import{t as e}from"./plus-DdKjKWRQ.js";import{A as t,j as n,rt as r,st as i,t as a}from"./index-CfKTQq_S.js";var o=t();function s({onClick:t,icon:n,label:r,className:i}){return(0,o.jsxs)(`button`,{onClick:t,className:a(`fixed bottom-20 right-4 md:right-8`,`flex items-center gap-2 px-4 py-4 rounded-full`,`bg-gradient-to-r from-blue-600 to-purple-600 text-white`,`shadow-lg hover:shadow-xl active:scale-95`,`transition-all duration-200`,`focus:ring-2 focus:ring-gray-300 dark:focus:ring-gray-500 focus:outline-none`,`z-[60]`,i),"aria-label":r||`Adicionar`,children:[n||(0,o.jsx)(e,{className:`w-6 h-6`}),r&&(0,o.jsx)(`span`,{className:`font-medium pr-2`,children:r})]})}function c({icon:e,title:t,description:n}){return(0,o.jsxs)(`div`,{className:`text-center py-12 text-gray-500 dark:text-gray-400 bg-white dark:bg-gray-800 rounded-xl border-2 border-dashed border-gray-200 dark:border-gray-700`,children:[(0,o.jsx)(`div`,{className:`text-6xl mb-4`,children:e}),(0,o.jsx)(`p`,{className:`text-lg font-medium text-gray-700 dark:text-gray-200`,children:t}),n&&(0,o.jsx)(`p`,{className:`text-sm mt-2`,children:n})]})}var l=i(r(),1),u=e=>e.type===`checkbox`,d=e=>e instanceof Date,f=e=>e==null,p=e=>typeof e==`object`,m=e=>!f(e)&&!Array.isArray(e)&&p(e)&&!d(e),h=e=>m(e)&&e.target?u(e.target)?e.target.checked:e.target.value:e,g=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,_=(e,t)=>e.has(g(t)),v=e=>{let t=e.constructor&&e.constructor.prototype;return m(t)&&t.hasOwnProperty(`isPrototypeOf`)},y=typeof window<`u`&&window.HTMLElement!==void 0&&typeof document<`u`;function b(e){if(e instanceof Date)return new Date(e);let t=typeof FileList<`u`&&e instanceof FileList;if(y&&(e instanceof Blob||t))return e;let n=Array.isArray(e);if(!n&&!(m(e)&&v(e)))return e;let r=n?[]:Object.create(Object.getPrototypeOf(e));for(let t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=b(e[t]));return r}var x=e=>/^\w*$/.test(e),S=e=>e===void 0,C=e=>Array.isArray(e)?e.filter(Boolean):[],w=e=>C(e.replace(/["|']|\]/g,``).split(/\.|\[/)),T=(e,t,n)=>{if(!t||!m(e))return n;let r=(x(t)?[t]:w(t)).reduce((e,t)=>f(e)?e:e[t],e);return S(r)||r===e?S(e[t])?n:e[t]:r},E=e=>typeof e==`boolean`,D=e=>typeof e==`function`,O=(e,t,n)=>{let r=-1,i=x(t)?[t]:w(t),a=i.length,o=a-1;for(;++r<a;){let t=i[r],a=n;if(r!==o){let n=e[t];a=m(n)||Array.isArray(n)?n:isNaN(+i[r+1])?{}:[]}if(t===`__proto__`||t===`constructor`||t===`prototype`)return;e[t]=a,e=e[t]}},k={BLUR:`blur`,FOCUS_OUT:`focusout`,CHANGE:`change`},A={onBlur:`onBlur`,onChange:`onChange`,onSubmit:`onSubmit`,onTouched:`onTouched`,all:`all`},j={max:`max`,min:`min`,maxLength:`maxLength`,minLength:`minLength`,pattern:`pattern`,required:`required`,validate:`validate`},M=l.createContext(null);M.displayName=`HookFormControlContext`;var N=()=>l.useContext(M),P=(e,t,n,r=!0)=>{let i={defaultValues:t._defaultValues};for(let a in e)Object.defineProperty(i,a,{get:()=>{let i=a;return t._proxyFormState[i]!==A.all&&(t._proxyFormState[i]=!r||A.all),n&&(n[i]=!0),e[i]}});return i},F=typeof window<`u`?l.useLayoutEffect:l.useEffect;function ee(e){let t=N(),{control:n=t,disabled:r,name:i,exact:a}=e||{},[o,s]=l.useState(n._formState),c=l.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return F(()=>n._subscribe({name:i,formState:c.current,exact:a,callback:e=>{!r&&s({...n._formState,...e})}}),[i,r,a]),l.useEffect(()=>{c.current.isValid&&n._setValid(!0)},[n]),l.useMemo(()=>P(o,n,c.current,!1),[o,n])}var I=e=>typeof e==`string`,te=(e,t,n,r,i)=>I(e)?(r&&t.watch.add(e),T(n,e,i)):Array.isArray(e)?e.map(e=>(r&&t.watch.add(e),T(n,e))):(r&&(t.watchAll=!0),n),ne=e=>f(e)||!p(e);function L(e,t,n=new WeakSet){if(ne(e)||ne(t))return Object.is(e,t);if(d(e)&&d(t))return Object.is(e.getTime(),t.getTime());let r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;if(n.has(e)||n.has(t))return!0;n.add(e),n.add(t);for(let a of r){let r=e[a];if(!i.includes(a))return!1;if(a!==`ref`){let e=t[a];if(d(r)&&d(e)||m(r)&&m(e)||Array.isArray(r)&&Array.isArray(e)?!L(r,e,n):!Object.is(r,e))return!1}}return!0}function re(e){let t=N(),{control:n=t,name:r,defaultValue:i,disabled:a,exact:o,compute:s}=e||{},c=l.useRef(i),u=l.useRef(s),d=l.useRef(void 0),f=l.useRef(n),p=l.useRef(r);u.current=s;let[m,h]=l.useState(()=>{let e=n._getWatch(r,c.current);return u.current?u.current(e):e}),g=l.useCallback(e=>{let t=te(r,n._names,e||n._formValues,!1,c.current);return u.current?u.current(t):t},[n._formValues,n._names,r]),_=l.useCallback(e=>{if(!a){let t=te(r,n._names,e||n._formValues,!1,c.current);if(u.current){let e=u.current(t);L(e,d.current)||(h(e),d.current=e)}else h(t)}},[n._formValues,n._names,a,r]);F(()=>((f.current!==n||!L(p.current,r))&&(f.current=n,p.current=r,_()),n._subscribe({name:r,formState:{values:!0},exact:o,callback:e=>{_(e.values)}})),[n,o,r,_]),l.useEffect(()=>n._removeUnmounted());let v=f.current!==n,y=p.current,b=l.useMemo(()=>{if(a)return null;let e=!v&&!L(y,r);return v||e?g():null},[a,v,r,y,g]);return b===null?m:b}function ie(e){let t=N(),{name:n,disabled:r,control:i=t,shouldUnregister:a,defaultValue:o,exact:s=!0}=e,c=_(i._names.array,n),u=re({control:i,name:n,defaultValue:l.useMemo(()=>T(i._formValues,n,T(i._defaultValues,n,o)),[i,n,o]),exact:s}),d=ee({control:i,name:n,exact:s}),f=l.useRef(e),p=l.useRef(void 0),m=l.useRef(i.register(n,{...e.rules,value:u,...E(e.disabled)?{disabled:e.disabled}:{}}));f.current=e;let g=l.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!T(d.errors,n)},isDirty:{enumerable:!0,get:()=>!!T(d.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!T(d.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!T(d.validatingFields,n)},error:{enumerable:!0,get:()=>T(d.errors,n)}}),[d,n]),v=l.useCallback(e=>m.current.onChange({target:{value:h(e),name:n},type:k.CHANGE}),[n]),y=l.useCallback(()=>m.current.onBlur({target:{value:T(i._formValues,n),name:n},type:k.BLUR}),[n,i._formValues]),x=l.useCallback(e=>{let t=T(i._fields,n);t&&t._f&&e&&(t._f.ref={focus:()=>D(e.focus)&&e.focus(),select:()=>D(e.select)&&e.select(),setCustomValidity:t=>D(e.setCustomValidity)&&e.setCustomValidity(t),reportValidity:()=>D(e.reportValidity)&&e.reportValidity()})},[i._fields,n]),C=l.useMemo(()=>({name:n,value:u,...E(r)||d.disabled?{disabled:d.disabled||r}:{},onChange:v,onBlur:y,ref:x}),[n,r,d.disabled,v,y,x,u]);return l.useEffect(()=>{let e=i._options.shouldUnregister||a,t=p.current;t&&t!==n&&!c&&i.unregister(t),i.register(n,{...f.current.rules,...E(f.current.disabled)?{disabled:f.current.disabled}:{}});let r=(e,t)=>{let n=T(i._fields,e);n&&n._f&&(n._f.mount=t)};if(r(n,!0),e){let e=b(T(i._options.defaultValues,n,f.current.defaultValue));O(i._defaultValues,n,e),S(T(i._formValues,n))&&O(i._formValues,n,e)}return!c&&i.register(n),p.current=n,()=>{(c?e&&!i._state.action:e)?i.unregister(n):r(n,!1)}},[n,i,c,a]),l.useEffect(()=>{i._setDisabledField({disabled:r,name:n})},[r,n,i]),l.useMemo(()=>({field:C,formState:d,fieldState:g}),[C,d,g])}var R=e=>e.render(ie(e)),ae=l.createContext(null);ae.displayName=`HookFormContext`;var z=(e,t,n,r,i)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:i||!0}}:{},B=e=>Array.isArray(e)?e:[e],oe=()=>{let e=[];return{get observers(){return e},next:t=>{for(let n of e)n.next&&n.next(t)},subscribe:t=>(e.push(t),{unsubscribe:()=>{e=e.filter(e=>e!==t)}}),unsubscribe:()=>{e=[]}}};function se(e,t){let n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r],a=t[r];if(i&&m(i)&&a){let e=se(i,a);m(e)&&(n[r]=e)}else e[r]&&(n[r]=a)}return n}var V=e=>m(e)&&!Object.keys(e).length,ce=e=>e.type===`file`,le=e=>{if(!y)return!1;let t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},ue=e=>e.type===`select-multiple`,de=e=>e.type===`radio`,fe=e=>de(e)||u(e),pe=e=>le(e)&&e.isConnected;function H(e,t){let n=t.slice(0,-1).length,r=0;for(;r<n;)e=S(e)?r++:e[t[r++]];return e}function me(e){for(let t in e)if(e.hasOwnProperty(t)&&!S(e[t]))return!1;return!0}function U(e,t){let n=Array.isArray(t)?t:x(t)?[t]:w(t),r=n.length===1?e:H(e,n),i=n.length-1,a=n[i];return r&&delete r[a],i!==0&&(m(r)&&V(r)||Array.isArray(r)&&me(r))&&U(e,n.slice(0,-1)),e}var he=e=>{for(let t in e)if(D(e[t]))return!0;return!1};function W(e){return Array.isArray(e)||m(e)&&!he(e)}function G(e,t={}){for(let n in e){let r=e[n];W(r)?(t[n]=Array.isArray(r)?[]:{},G(r,t[n])):S(r)||(t[n]=!0)}return t}function K(e,t,n){for(let r in n||=G(t),e){let i=e[r];if(W(i))S(t)||ne(n[r])?n[r]=G(i,Array.isArray(i)?[]:{}):K(i,f(t)?{}:t[r],n[r]);else{let e=t[r];n[r]=!L(i,e)}}return n}var q={value:!1,isValid:!1},ge={value:!0,isValid:!0},_e=e=>{if(Array.isArray(e)){if(e.length>1){let t=e.filter(e=>e&&e.checked&&!e.disabled).map(e=>e.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!S(e[0].attributes.value)?S(e[0].value)||e[0].value===``?ge:{value:e[0].value,isValid:!0}:ge:q}return q},ve=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>S(e)?e:t?e===``?NaN:e&&+e:n&&I(e)?new Date(e):r?r(e):e,J={isValid:!1,value:null},ye=e=>Array.isArray(e)?e.reduce((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e,J):J;function be(e){let t=e.ref;return ce(t)?t.files:de(t)?ye(e.refs).value:ue(t)?[...t.selectedOptions].map(({value:e})=>e):u(t)?_e(e.refs).value:ve(S(t.value)?e.ref.value:t.value,e)}var xe=(e,t,n,r)=>{let i={};for(let n of e){let e=T(t,n);e&&O(i,n,e._f)}return{criteriaMode:n,names:[...e],fields:i,shouldUseNativeValidation:r}},Y=e=>e instanceof RegExp,X=e=>S(e)?e:Y(e)?e.source:m(e)?Y(e.value)?e.value.source:e.value:e,Se=e=>({isOnSubmit:!e||e===A.onSubmit,isOnBlur:e===A.onBlur,isOnChange:e===A.onChange,isOnAll:e===A.all,isOnTouch:e===A.onTouched}),Ce=`AsyncFunction`,we=e=>!!e&&!!e.validate&&!!(D(e.validate)&&e.validate.constructor.name===Ce||m(e.validate)&&Object.values(e.validate).find(e=>e.constructor.name===Ce)),Te=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),Ee=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(t=>e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length)))),Z=(e,t,n,r)=>{for(let i of n||Object.keys(e)){let n=T(e,i);if(n){let{_f:e,...a}=n;if(e){if(e.refs&&e.refs[0]&&t(e.refs[0],i)&&!r||e.ref&&t(e.ref,e.name)&&!r)return!0;if(Z(a,t))break}else if(m(a)&&Z(a,t))break}}};function De(e,t,n){let r=T(e,n);if(r||x(n))return{error:r,name:n};let i=n.split(`.`);for(;i.length;){let r=i.join(`.`),a=T(t,r),o=T(e,r);if(a&&!Array.isArray(a)&&n!==r)return{name:n};if(o&&o.type)return{name:r,error:o};if(o&&o.root&&o.root.type)return{name:`${r}.root`,error:o.root};i.pop()}return{name:n}}var Oe=(e,t,n,r)=>{n(e);let{name:i,...a}=e;return V(a)||Object.keys(a).length>=Object.keys(t).length||Object.keys(a).find(e=>t[e]===(!r||A.all))},ke=(e,t,n)=>!e||!t||e===t||B(e).some(e=>e&&(n?e===t:e.startsWith(t)||t.startsWith(e))),Ae=(e,t,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(t||e):(n?r.isOnBlur:i.isOnBlur)?!e:(n?r.isOnChange:i.isOnChange)?e:!0,je=(e,t)=>!C(T(e,t)).length&&U(e,t),Me=(e,t,n)=>{let r=B(T(e,n));return O(r,`root`,t[n]),O(e,n,r),e};function Ne(e,t,n=`validate`){if(I(e)||Array.isArray(e)&&e.every(I)||E(e)&&!e)return{type:n,message:I(e)?e:``,ref:t}}var Q=e=>m(e)&&!Y(e)?e:{value:e,message:``},Pe=async(e,t,n,r,i,a)=>{let{ref:o,refs:s,required:c,maxLength:l,minLength:d,min:p,max:h,pattern:g,validate:_,name:v,valueAsNumber:y,mount:b}=e._f,x=T(n,v);if(!b||t.has(v))return{};let C=s?s[0]:o,w=e=>{i&&C.reportValidity&&(C.setCustomValidity(E(e)?``:e||``),C.reportValidity())},O={},k=de(o),A=u(o),M=k||A,N=(y||ce(o))&&S(o.value)&&S(x)||le(o)&&o.value===``||x===``||Array.isArray(x)&&!x.length,P=z.bind(null,v,r,O),F=(e,t,n,r=j.maxLength,i=j.minLength)=>{let a=e?t:n;O[v]={type:e?r:i,message:a,ref:o,...P(e?r:i,a)}};if(a?!Array.isArray(x)||!x.length:c&&(!M&&(N||f(x))||E(x)&&!x||A&&!_e(s).isValid||k&&!ye(s).isValid)){let{value:e,message:t}=I(c)?{value:!!c,message:c}:Q(c);if(e&&(O[v]={type:j.required,message:t,ref:C,...P(j.required,t)},!r))return w(t),O}if(!N&&(!f(p)||!f(h))){let e,t,n=Q(h),i=Q(p);if(!f(x)&&!isNaN(x)){let r=o.valueAsNumber||x&&+x;f(n.value)||(e=r>n.value),f(i.value)||(t=r<i.value)}else{let r=o.valueAsDate||new Date(x),a=e=>new Date(new Date().toDateString()+` `+e),s=o.type==`time`,c=o.type==`week`;I(n.value)&&x&&(e=s?a(x)>a(n.value):c?x>n.value:r>new Date(n.value)),I(i.value)&&x&&(t=s?a(x)<a(i.value):c?x<i.value:r<new Date(i.value))}if((e||t)&&(F(!!e,n.message,i.message,j.max,j.min),!r))return w(O[v].message),O}if((l||d)&&!N&&(I(x)||a&&Array.isArray(x))){let e=Q(l),t=Q(d),n=!f(e.value)&&x.length>+e.value,i=!f(t.value)&&x.length<+t.value;if((n||i)&&(F(n,e.message,t.message),!r))return w(O[v].message),O}if(g&&!N&&I(x)){let{value:e,message:t}=Q(g);if(Y(e)&&!x.match(e)&&(O[v]={type:j.pattern,message:t,ref:o,...P(j.pattern,t)},!r))return w(t),O}if(_){if(D(_)){let e=Ne(await _(x,n),C);if(e&&(O[v]={...e,...P(j.validate,e.message)},!r))return w(e.message),O}else if(m(_)){let e={};for(let t in _){if(!V(e)&&!r)break;let i=Ne(await _[t](x,n),C,t);i&&(e={...i,...P(t,i.message)},w(i.message),r&&(O[v]=e))}if(!V(e)&&(O[v]={ref:C,...e},!r))return O}}return w(!0),O},Fe={mode:A.onSubmit,reValidateMode:A.onChange,shouldFocusError:!0};function Ie(e={}){let t={...Fe,...e},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:D(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},r={},i=(m(t.defaultValues)||m(t.values))&&b(t.defaultValues||t.values)||{},a=t.shouldUnregister?{}:b(i),o={action:!1,mount:!1,watch:!1,keepIsValid:!1},s={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,l=0,p={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},g={...p},v={...g},x={array:oe(),state:oe()},w=t.criteriaMode===A.all,j=e=>t=>{clearTimeout(l),l=setTimeout(e,t)},M=async e=>{if(!o.keepIsValid&&!t.disabled&&(g.isValid||v.isValid||e)){let e;t.resolver?(e=V((await R()).errors),N()):e=await z(r,!0),e!==n.isValid&&x.state.next({isValid:e})}},N=(e,r)=>{!t.disabled&&(g.isValidating||g.validatingFields||v.isValidating||v.validatingFields)&&((e||Array.from(s.mount)).forEach(e=>{e&&(r?O(n.validatingFields,e,r):U(n.validatingFields,e))}),x.state.next({validatingFields:n.validatingFields,isValidating:!V(n.validatingFields)}))},P=(e,s=[],c,l,u=!0,d=!0)=>{if(l&&c&&!t.disabled){if(o.action=!0,d&&Array.isArray(T(r,e))){let t=c(T(r,e),l.argA,l.argB);u&&O(r,e,t)}if(d&&Array.isArray(T(n.errors,e))){let t=c(T(n.errors,e),l.argA,l.argB);u&&O(n.errors,e,t),je(n.errors,e)}if((g.touchedFields||v.touchedFields)&&d&&Array.isArray(T(n.touchedFields,e))){let t=c(T(n.touchedFields,e),l.argA,l.argB);u&&O(n.touchedFields,e,t)}(g.dirtyFields||v.dirtyFields)&&(n.dirtyFields=K(i,a)),x.state.next({name:e,isDirty:H(e,s),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else O(a,e,s)},F=(e,t)=>{O(n.errors,e,t),x.state.next({errors:n.errors})},ee=e=>{n.errors=e,x.state.next({errors:n.errors,isValid:!1})},ne=(e,t,n,s)=>{let c=T(r,e);if(c){let r=T(a,e,S(n)?T(i,e):n);S(r)||s&&s.defaultChecked||t?O(a,e,t?r:be(c._f)):W(e,r),o.mount&&!o.action&&M()}},re=(e,r,a,o,s)=>{let c=!1,l=!1,u={name:e};if(!t.disabled){if(!a||o){(g.isDirty||v.isDirty)&&(l=n.isDirty,n.isDirty=u.isDirty=H(),c=l!==u.isDirty);let t=L(T(i,e),r);l=!!T(n.dirtyFields,e),t?U(n.dirtyFields,e):O(n.dirtyFields,e,!0),u.dirtyFields=n.dirtyFields,c||=(g.dirtyFields||v.dirtyFields)&&l!==!t}if(a){let t=T(n.touchedFields,e);t||(O(n.touchedFields,e,a),u.touchedFields=n.touchedFields,c||=(g.touchedFields||v.touchedFields)&&t!==a)}c&&s&&x.state.next(u)}return c?u:{}},ie=(e,r,i,a)=>{let o=T(n.errors,e),s=(g.isValid||v.isValid)&&E(r)&&n.isValid!==r;if(t.delayError&&i?(c=j(()=>F(e,i)),c(t.delayError)):(clearTimeout(l),c=null,i?O(n.errors,e,i):U(n.errors,e)),(i?!L(o,i):o)||!V(a)||s){let t={...a,...s&&E(r)?{isValid:r}:{},errors:n.errors,name:e};n={...n,...t},x.state.next(t)}},R=async e=>(N(e,!0),await t.resolver(a,t.context,xe(e||s.mount,r,t.criteriaMode,t.shouldUseNativeValidation))),ae=async e=>{let{errors:t}=await R(e);if(N(e),e)for(let r of e){let e=T(t,r);e?O(n.errors,r,e):U(n.errors,r)}else n.errors=t;return t},z=async(r,i,o={valid:!0})=>{for(let c in r){let l=r[c];if(l){let{_f:r,...c}=l;if(r){let c=s.array.has(r.name),u=l._f&&we(l._f);u&&g.validatingFields&&N([r.name],!0);let d=await Pe(l,s.disabled,a,w,t.shouldUseNativeValidation&&!i,c);if(u&&g.validatingFields&&N([r.name]),d[r.name]&&(o.valid=!1,i||e.shouldUseNativeValidation))break;!i&&(T(d,r.name)?c?Me(n.errors,d,r.name):O(n.errors,r.name,d[r.name]):U(n.errors,r.name))}!V(c)&&await z(c,i,o)}}return o.valid},de=()=>{for(let e of s.unMount){let t=T(r,e);t&&(t._f.refs?t._f.refs.every(e=>!pe(e)):!pe(t._f.ref))&&$(e)}s.unMount=new Set},H=(e,n)=>!t.disabled&&(e&&n&&O(a,e,n),!L(ye(),i)),me=(e,t,n)=>te(e,s,{...o.mount?a:S(t)?i:I(e)?{[e]:t}:t},n,t),he=e=>C(T(o.mount?a:i,e,t.shouldUnregister?T(i,e,[]):[])),W=(e,t,n={})=>{let i=T(r,e),o=t;if(i){let n=i._f;n&&(!n.disabled&&O(a,e,ve(t,n)),o=le(n.ref)&&f(t)?``:t,ue(n.ref)?[...n.ref.options].forEach(e=>e.selected=o.includes(e.value)):n.refs?u(n.ref)?n.refs.forEach(e=>{(!e.defaultChecked||!e.disabled)&&(Array.isArray(o)?e.checked=!!o.find(t=>t===e.value):e.checked=o===e.value||!!o)}):n.refs.forEach(e=>e.checked=e.value===o):ce(n.ref)?n.ref.value=``:(n.ref.value=o,n.ref.type||x.state.next({name:e,values:b(a)})))}(n.shouldDirty||n.shouldTouch)&&re(e,o,n.shouldTouch,n.shouldDirty,!0),n.shouldValidate&&J(e)},G=(e,t,n)=>{for(let i in t){if(!t.hasOwnProperty(i))return;let a=t[i],o=e+`.`+i,c=T(r,o);(s.array.has(e)||m(a)||c&&!c._f)&&!d(a)?G(o,a,n):W(o,a,n)}},q=(e,t,c={})=>{let l=T(r,e),u=s.array.has(e),d=b(t);O(a,e,d),u?(x.array.next({name:e,values:b(a)}),(g.isDirty||g.dirtyFields||v.isDirty||v.dirtyFields)&&c.shouldDirty&&x.state.next({name:e,dirtyFields:K(i,a),isDirty:H(e,d)})):l&&!l._f&&!f(d)?G(e,d,c):W(e,d,c),Ee(e,s)?x.state.next({...n,name:e,values:b(a)}):x.state.next({name:o.mount?e:void 0,values:b(a)})},ge=async e=>{o.mount=!0;let i=e.target,l=i.name,u=!0,f=T(r,l),p=e=>{u=Number.isNaN(e)||d(e)&&isNaN(e.getTime())||L(e,T(a,l,e))},m=Se(t.mode),_=Se(t.reValidateMode);if(f){let o,d,y=i.type?be(f._f):h(e),S=e.type===k.BLUR||e.type===k.FOCUS_OUT,C=!Te(f._f)&&!t.resolver&&!T(n.errors,l)&&!f._f.deps||Ae(S,T(n.touchedFields,l),n.isSubmitted,_,m),E=Ee(l,s,S);O(a,l,y),S?(!i||!i.readOnly)&&(f._f.onBlur&&f._f.onBlur(e),c&&c(0)):f._f.onChange&&f._f.onChange(e);let D=re(l,y,S),A=!V(D)||E;if(!S&&x.state.next({name:l,type:e.type,values:b(a)}),C)return(g.isValid||v.isValid)&&(t.mode===`onBlur`?S&&M():S||M()),A&&x.state.next({name:l,...E?{}:D});if(!S&&E&&x.state.next({...n}),t.resolver){let{errors:e}=await R([l]);if(N([l]),p(y),u){let t=De(n.errors,r,l),i=De(e,r,t.name||l);o=i.error,l=i.name,d=V(e)}}else N([l],!0),o=(await Pe(f,s.disabled,a,w,t.shouldUseNativeValidation))[l],N([l]),p(y),u&&(o?d=!1:(g.isValid||v.isValid)&&(d=await z(r,!0)));u&&(f._f.deps&&(!Array.isArray(f._f.deps)||f._f.deps.length>0)&&J(f._f.deps),ie(l,d,o,D))}},_e=(e,t)=>{if(T(n.errors,t)&&e.focus)return e.focus(),1},J=async(e,i={})=>{let a,o,c=B(e);if(t.resolver){let t=await ae(S(e)?e:c);a=V(t),o=e?!c.some(e=>T(t,e)):a}else e?(o=(await Promise.all(c.map(async e=>{let t=T(r,e);return await z(t&&t._f?{[e]:t}:t)}))).every(Boolean),!(!o&&!n.isValid)&&M()):o=a=await z(r);return x.state.next({...!I(e)||(g.isValid||v.isValid)&&a!==n.isValid?{}:{name:e},...t.resolver||!e?{isValid:a}:{},errors:n.errors}),i.shouldFocus&&!o&&Z(r,_e,e?c:s.mount),o},ye=(e,t)=>{let r={...o.mount?a:i};return t&&(r=se(t.dirtyFields?n.dirtyFields:n.touchedFields,r)),S(e)?r:I(e)?T(r,e):e.map(e=>T(r,e))},Y=(e,t)=>({invalid:!!T((t||n).errors,e),isDirty:!!T((t||n).dirtyFields,e),error:T((t||n).errors,e),isValidating:!!T(n.validatingFields,e),isTouched:!!T((t||n).touchedFields,e)}),Ce=e=>{e&&B(e).forEach(e=>U(n.errors,e)),x.state.next({errors:e?n.errors:{}})},Ne=(e,t,i)=>{let a=(T(r,e,{_f:{}})._f||{}).ref,{ref:o,message:s,type:c,...l}=T(n.errors,e)||{};O(n.errors,e,{...l,...t,ref:a}),x.state.next({name:e,errors:n.errors,isValid:!1}),i&&i.shouldFocus&&a&&a.focus&&a.focus()},Q=(e,t)=>D(e)?x.state.subscribe({next:n=>`values`in n&&e(me(void 0,t),n)}):me(e,t,!0),Ie=e=>x.state.subscribe({next:t=>{ke(e.name,t.name,e.exact)&&Oe(t,e.formState||g,qe,e.reRenderRoot)&&e.callback({values:{...a},...n,...t,defaultValues:i})}}).unsubscribe,Le=e=>(o.mount=!0,v={...v,...e.formState},Ie({...e,formState:{...p,...e.formState}})),$=(e,o={})=>{for(let c of e?B(e):s.mount)s.mount.delete(c),s.array.delete(c),o.keepValue||(U(r,c),U(a,c)),!o.keepError&&U(n.errors,c),!o.keepDirty&&U(n.dirtyFields,c),!o.keepTouched&&U(n.touchedFields,c),!o.keepIsValidating&&U(n.validatingFields,c),!t.shouldUnregister&&!o.keepDefaultValue&&U(i,c);x.state.next({values:b(a)}),x.state.next({...n,...o.keepDirty?{isDirty:H()}:{}}),!o.keepIsValid&&M()},Re=({disabled:e,name:t})=>{if(E(e)&&o.mount||e||s.disabled.has(t)){let n=s.disabled.has(t)!==!!e;e?s.disabled.add(t):s.disabled.delete(t),n&&o.mount&&!o.action&&M()}},ze=(e,n={})=>{let a=T(r,e),c=E(n.disabled)||E(t.disabled);return O(r,e,{...a||{},_f:{...a&&a._f?a._f:{ref:{name:e}},name:e,mount:!0,...n}}),s.mount.add(e),a?Re({disabled:E(n.disabled)?n.disabled:t.disabled,name:e}):ne(e,!0,n.value),{...c?{disabled:n.disabled||t.disabled}:{},...t.progressive?{required:!!n.required,min:X(n.min),max:X(n.max),minLength:X(n.minLength),maxLength:X(n.maxLength),pattern:X(n.pattern)}:{},name:e,onChange:ge,onBlur:ge,ref:c=>{if(c){ze(e,n),a=T(r,e);let t=S(c.value)&&c.querySelectorAll&&c.querySelectorAll(`input,select,textarea`)[0]||c,o=fe(t),s=a._f.refs||[];if(o?s.find(e=>e===t):t===a._f.ref)return;O(r,e,{_f:{...a._f,...o?{refs:[...s.filter(pe),t,...Array.isArray(T(i,e))?[{}]:[]],ref:{type:t.type,name:e}}:{ref:t}}}),ne(e,!1,void 0,t)}else a=T(r,e,{}),a._f&&(a._f.mount=!1),(t.shouldUnregister||n.shouldUnregister)&&!(_(s.array,e)&&o.action)&&s.unMount.add(e)}}},Be=()=>t.shouldFocusError&&Z(r,_e,s.mount),Ve=e=>{E(e)&&(x.state.next({disabled:e}),Z(r,(t,n)=>{let i=T(r,n);i&&(t.disabled=i._f.disabled||e,Array.isArray(i._f.refs)&&i._f.refs.forEach(t=>{t.disabled=i._f.disabled||e}))},0,!1))},He=(e,i)=>async o=>{let c;o&&(o.preventDefault&&o.preventDefault(),o.persist&&o.persist());let l=b(a);if(x.state.next({isSubmitting:!0}),t.resolver){let{errors:e,values:t}=await R();N(),n.errors=e,l=b(t)}else await z(r);if(s.disabled.size)for(let e of s.disabled)U(l,e);if(U(n.errors,`root`),V(n.errors)){x.state.next({errors:{}});try{await e(l,o)}catch(e){c=e}}else i&&await i({...n.errors},o),Be(),setTimeout(Be);if(x.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:V(n.errors)&&!c,submitCount:n.submitCount+1,errors:n.errors}),c)throw c},Ue=(e,t={})=>{T(r,e)&&(S(t.defaultValue)?q(e,b(T(i,e))):(q(e,t.defaultValue),O(i,e,b(t.defaultValue))),t.keepTouched||U(n.touchedFields,e),t.keepDirty||(U(n.dirtyFields,e),n.isDirty=t.defaultValue?H(e,b(T(i,e))):H()),t.keepError||(U(n.errors,e),g.isValid&&M()),x.state.next({...n}))},We=(e,c={})=>{let l=e?b(e):i,u=b(l),d=V(e),f=d?i:u;if(c.keepDefaultValues||(i=l),!c.keepValues){if(c.keepDirtyValues){let e=new Set([...s.mount,...Object.keys(K(i,a))]);for(let t of Array.from(e)){let e=T(n.dirtyFields,t),r=T(a,t),i=T(f,t);e&&!S(r)?O(f,t,r):!e&&!S(i)&&q(t,i)}}else{if(y&&S(e))for(let e of s.mount){let t=T(r,e);if(t&&t._f){let e=Array.isArray(t._f.refs)?t._f.refs[0]:t._f.ref;if(le(e)){let t=e.closest(`form`);if(t){t.reset();break}}}}if(c.keepFieldsRef)for(let e of s.mount)q(e,T(f,e));else r={}}a=t.shouldUnregister?c.keepDefaultValues?b(i):{}:b(f),x.array.next({values:{...f}}),x.state.next({values:{...f}})}s={mount:c.keepDirtyValues?s.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:``},o.mount=!g.isValid||!!c.keepIsValid||!!c.keepDirtyValues||!t.shouldUnregister&&!V(f),o.watch=!!t.shouldUnregister,o.keepIsValid=!!c.keepIsValid,o.action=!1,c.keepErrors||(n.errors={}),x.state.next({submitCount:c.keepSubmitCount?n.submitCount:0,isDirty:d?!1:c.keepDirty?n.isDirty:!!(c.keepDefaultValues&&!L(e,i)),isSubmitted:c.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:d?{}:c.keepDirtyValues?c.keepDefaultValues&&a?K(i,a):n.dirtyFields:c.keepDefaultValues&&e?K(i,e):c.keepDirty?n.dirtyFields:{},touchedFields:c.keepTouched?n.touchedFields:{},errors:c.keepErrors?n.errors:{},isSubmitSuccessful:c.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:i})},Ge=(e,n)=>We(D(e)?e(a):e,{...t.resetOptions,...n}),Ke=(e,t={})=>{let n=T(r,e),i=n&&n._f;if(i){let e=i.refs?i.refs[0]:i.ref;e.focus&&setTimeout(()=>{e.focus(),t.shouldSelect&&D(e.select)&&e.select()})}},qe=e=>{n={...n,...e}},Je={control:{register:ze,unregister:$,getFieldState:Y,handleSubmit:He,setError:Ne,_subscribe:Ie,_runSchema:R,_updateIsValidating:N,_focusError:Be,_getWatch:me,_getDirty:H,_setValid:M,_setFieldArray:P,_setDisabledField:Re,_setErrors:ee,_getFieldArray:he,_reset:We,_resetDefaultValues:()=>D(t.defaultValues)&&t.defaultValues().then(e=>{Ge(e,t.resetOptions),x.state.next({isLoading:!1})}),_removeUnmounted:de,_disableForm:Ve,_subjects:x,_proxyFormState:g,get _fields(){return r},get _formValues(){return a},get _state(){return o},set _state(e){o=e},get _defaultValues(){return i},get _names(){return s},set _names(e){s=e},get _formState(){return n},get _options(){return t},set _options(e){t={...t,...e}}},subscribe:Le,trigger:J,register:ze,handleSubmit:He,watch:Q,setValue:q,getValues:ye,reset:Ge,resetField:Ue,clearErrors:Ce,unregister:$,setError:Ne,setFocus:Ke,getFieldState:Y};return{...Je,formControl:Je}}function Le(e={}){let t=l.useRef(void 0),n=l.useRef(void 0),[r,i]=l.useState({isDirty:!1,isValidating:!1,isLoading:D(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:D(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:r},e.defaultValues&&!D(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{let{formControl:n,...i}=Ie(e);t.current={...i,formState:r}}let a=t.current.control;return a._options=e,F(()=>{let e=a._subscribe({formState:a._proxyFormState,callback:()=>i({...a._formState}),reRenderRoot:!0});return i(e=>({...e,isReady:!0})),a._formState.isReady=!0,e},[a]),l.useEffect(()=>a._disableForm(e.disabled),[a,e.disabled]),l.useEffect(()=>{e.mode&&(a._options.mode=e.mode),e.reValidateMode&&(a._options.reValidateMode=e.reValidateMode)},[a,e.mode,e.reValidateMode]),l.useEffect(()=>{e.errors&&(a._setErrors(e.errors),a._focusError())},[a,e.errors]),l.useEffect(()=>{e.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[a,e.shouldUnregister]),l.useEffect(()=>{if(a._proxyFormState.isDirty){let e=a._getDirty();e!==r.isDirty&&a._subjects.state.next({isDirty:e})}},[a,r.isDirty]),l.useEffect(()=>{e.values&&!L(e.values,n.current)?(a._reset(e.values,{keepFieldsRef:!0,...a._options.resetOptions}),a._options.resetOptions?.keepIsValid||a._setValid(),n.current=e.values,i(e=>({...e}))):a._resetDefaultValues()},[a,e.values]),l.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),t.current.formState=l.useMemo(()=>P(r,a),[a,r]),t.current}function $(e){let t=(0,l.useRef)(null),n=(0,l.useRef)(null);return(0,l.useEffect)(()=>{if(!e)return;n.current=document.activeElement;let r=t.current;if(!r)return;let i=`button:not([disabled]), [href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), [tabindex]:not([tabindex="-1"])`;r.querySelector(i)?.focus();function a(e){if(e.key!==`Tab`||!r)return;let t=Array.from(r.querySelectorAll(i));if(t.length===0)return;let n=t[0],a=t[t.length-1];if(e.shiftKey&&document.activeElement===n){e.preventDefault(),a.focus();return}if(!e.shiftKey&&document.activeElement===a){e.preventDefault(),n.focus();return}}return document.addEventListener(`keydown`,a),()=>{document.removeEventListener(`keydown`,a),n.current?.focus()}},[e]),t}function Re({isOpen:e,onClose:t,title:r,children:i,type:s,onSave:c,onDelete:u,loading:d=!1,loadingText:f=`Salvando...`,size:p=`md`}){let m=$(e),h={sm:`md:w-[400px]`,md:`md:w-[500px]`,lg:`md:w-[600px]`,xl:`md:w-[800px]`};return(0,l.useEffect)(()=>{if(!e)return;function n(e){e.key===`Escape`&&!d&&t()}return document.addEventListener(`keydown`,n),()=>document.removeEventListener(`keydown`,n)},[e,d,t]),e?(0,o.jsxs)(`div`,{className:`fixed inset-0 z-[600] flex justify-center items-end md:items-center`,role:`dialog`,"aria-modal":`true`,"aria-labelledby":r?`modal-title`:void 0,children:[(0,o.jsx)(`div`,{className:`absolute inset-0 bg-black/40 backdrop-blur-sm`,onClick:d?void 0:t,"aria-hidden":`true`}),(0,o.jsxs)(`div`,{ref:m,className:a(`relative w-full max-h-[80vh] md:max-h-[90vh] bg-white dark:bg-gray-800 rounded-t-2xl md:rounded-2xl flex flex-col shadow-2xl`,h[p]),children:[r&&(0,o.jsxs)(`div`,{className:`flex items-center justify-between px-4 py-3 md:px-6 md:py-4 border-b border-gray-200 dark:border-gray-700 flex-shrink-0`,children:[(0,o.jsx)(`h2`,{id:`modal-title`,className:`text-lg md:text-xl font-semibold text-gray-900 dark:text-gray-100`,children:r}),(0,o.jsx)(`button`,{onClick:d?void 0:t,disabled:d,"aria-label":`Fechar modal`,className:a(`p-2 rounded-lg text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors focus:ring-2 focus:ring-gray-300 dark:focus:ring-gray-500 focus:outline-none`,d&&`opacity-50 cursor-not-allowed`),children:(0,o.jsx)(n,{className:`w-5 h-5`})})]}),(0,o.jsx)(`div`,{className:`px-4 py-3 md:px-6 md:py-4 overflow-y-auto flex-1 min-h-0`,children:i}),(0,o.jsxs)(`div`,{className:`flex gap-3 px-4 py-3 md:px-6 md:py-4 border-t border-gray-200 dark:border-gray-700 bg-gray-50/50 dark:bg-gray-800/80 flex-shrink-0`,children:[(0,o.jsx)(`button`,{onClick:t,disabled:d,"aria-label":`Cancelar e fechar modal`,className:a(`flex-1 px-4 py-2.5 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-600 transition-all focus:ring-2 focus:ring-gray-300 dark:focus:ring-gray-500 focus:outline-none`,d&&`opacity-50 cursor-not-allowed`),children:`Cancelar`}),s===`edit`&&u&&(0,o.jsx)(`button`,{onClick:u,disabled:d,"aria-label":`Excluir registro permanentemente`,type:`button`,className:a(`flex-1 px-4 py-2.5 text-sm font-medium text-white rounded-lg transition-all focus:ring-2 focus:ring-red-500 dark:focus:ring-red-500 focus:outline-none`,d?`bg-red-500 cursor-wait`:`bg-red-600 hover:bg-red-700`),children:d&&f===`Excluindo...`?`Excluindo...`:`Excluir`}),c&&(0,o.jsx)(`button`,{onClick:c,disabled:d,"aria-label":s===`create`?`Salvar novo registro`:`Salvar alterações`,type:`button`,className:a(`flex-1 px-4 py-2.5 text-sm font-medium text-white rounded-lg transition-all focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-500 focus:outline-none`,d?`bg-blue-500 cursor-wait`:`bg-blue-600 hover:bg-blue-700`),children:d&&f!==`Excluindo...`?f:`Salvar`})]})]})]}):null}function ze({isOpen:e,onClose:t,title:r,message:i,confirmLabel:s=`Excluir`,onConfirm:c,loading:u=!1}){let[d,f]=(0,l.useState)(!1),p=$(e),m=u||d,h=async()=>{f(!0);try{await Promise.resolve(c()),t()}finally{f(!1)}};return(0,l.useEffect)(()=>{if(!e)return;function n(e){e.key===`Escape`&&!m&&t()}return document.addEventListener(`keydown`,n),()=>document.removeEventListener(`keydown`,n)},[e,m,t]),e?(0,o.jsxs)(`div`,{className:`fixed inset-0 z-[600] flex justify-center items-end md:items-center`,role:`dialog`,"aria-modal":`true`,"aria-labelledby":`confirm-modal-title`,children:[(0,o.jsx)(`div`,{className:`absolute inset-0 bg-black/40 backdrop-blur-sm`,onClick:m?void 0:t,"aria-hidden":`true`}),(0,o.jsxs)(`div`,{ref:p,className:`relative w-full max-w-sm md:max-w-md bg-white dark:bg-gray-800 rounded-t-2xl md:rounded-2xl shadow-2xl mx-auto`,children:[(0,o.jsxs)(`div`,{className:`flex items-center justify-between px-4 py-3 md:px-6 md:py-4 border-b border-gray-200 dark:border-gray-700`,children:[(0,o.jsx)(`h2`,{id:`confirm-modal-title`,className:`text-lg font-semibold text-gray-900 dark:text-gray-100`,children:r}),(0,o.jsx)(`button`,{type:`button`,onClick:m?void 0:t,disabled:m,"aria-label":`Fechar`,className:`p-2 rounded-lg text-gray-500 hover:text-gray-700 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors disabled:opacity-50`,children:(0,o.jsx)(n,{className:`w-5 h-5`})})]}),(0,o.jsx)(`div`,{className:`px-4 py-3 md:px-6 md:py-4 text-gray-600 dark:text-gray-300 text-sm`,children:i}),(0,o.jsxs)(`div`,{className:`flex gap-3 px-4 py-3 md:px-6 md:py-4 border-t border-gray-200 dark:border-gray-700 bg-gray-50/50 dark:bg-gray-800/80`,children:[(0,o.jsx)(`button`,{type:`button`,onClick:t,disabled:m,className:a(`flex-1 px-4 py-2.5 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors focus:ring-2 focus:ring-gray-300 focus:outline-none`,m&&`opacity-50 cursor-not-allowed`),children:`Cancelar`}),(0,o.jsx)(`button`,{type:`button`,onClick:h,disabled:m,className:a(`flex-1 px-4 py-2.5 text-sm font-medium text-white rounded-xl transition-colors focus:ring-2 focus:ring-red-500 focus:outline-none`,m?`bg-red-500 cursor-wait`:`bg-red-600 hover:bg-red-700`),children:m?`Excluindo...`:s})]})]})]}):null}export{Le as a,R as i,Re as n,c as o,$ as r,s,ze as t};