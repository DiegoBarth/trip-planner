import{A as e,R as t,nt as n,rt as r,t as i}from"./index-BuCimhhm.js";var a=t(`check`,[[`path`,{d:`M20 6 9 17l-5-5`,key:`1gmf2c`}]]),o=t(`chevron-down`,[[`path`,{d:`m6 9 6 6 6-6`,key:`qrunsl`}]]),s=r(),c=n(),l=e();function u({value:e,onChange:t,options:n,label:r,id:u,placeholder:d=`Selecione`,variant:f=`default`,leftIcon:p,disabled:m=!1,dropdownPosition:h=`above`}){let[g,_]=(0,s.useState)(!1),[v,y]=(0,s.useState)({top:0,left:0,width:0,height:0}),[b,x]=(0,s.useState)(-1),S=(0,s.useRef)(null),C=(0,s.useRef)(null),w=u?`${u}-listbox`:`select-listbox`;(0,s.useEffect)(()=>{if(g&&S.current){let t=S.current.getBoundingClientRect();y({top:t.top,left:t.left,width:t.width,height:t.height}),x(n.indexOf(e))}else x(-1)},[g,e,n]),(0,s.useEffect)(()=>{if(g&&C.current){let e=setTimeout(()=>{C.current?.scrollIntoView({block:`center`,behavior:`auto`})},10);return()=>clearTimeout(e)}},[g]),(0,s.useEffect)(()=>{function e(e){S.current&&!S.current.contains(e.target)&&_(!1)}return g&&document.addEventListener(`mousedown`,e),()=>document.removeEventListener(`mousedown`,e)},[g]);let T=e=>{t(e),_(!1)};return(0,l.jsxs)(`div`,{className:`relative w-full`,ref:S,children:[(0,l.jsxs)(`button`,{type:`button`,id:u,disabled:m,onClick:()=>!m&&_(!g),onKeyDown:e=>{if(!g){[`Enter`,` `,`ArrowDown`,`ArrowUp`].includes(e.key)&&(e.preventDefault(),_(!0));return}switch(e.key){case`ArrowDown`:e.preventDefault(),x(e=>e<n.length-1?e+1:0);break;case`ArrowUp`:e.preventDefault(),x(e=>e>0?e-1:n.length-1);break;case`Home`:e.preventDefault(),x(0);break;case`End`:e.preventDefault(),x(n.length-1);break;case`Enter`:e.preventDefault(),b>=0&&b<n.length&&T(n[b]);break;case`Escape`:e.preventDefault(),_(!1);break}},"aria-haspopup":`listbox`,"aria-expanded":g,"aria-labelledby":r?`${u}-label`:void 0,"aria-controls":g?w:void 0,"aria-activedescendant":g&&b>=0?`${w}-option-${b}`:void 0,className:i(`flex h-10 w-full items-center justify-between rounded-xl border text-sm font-medium transition-all outline-none`,f===`glass`&&`relative`,f===`default`&&[`bg-white dark:bg-gray-700 px-3 py-2`,`border-gray-300 dark:border-gray-600 hover:border-gray-400 dark:hover:border-gray-500 focus:border-blue-500 focus:ring-2 focus:ring-gray-300 dark:focus:ring-gray-500 focus:outline-none`,m&&`opacity-50 cursor-not-allowed`],f===`glass`&&[`bg-white/15 backdrop-blur-sm border-white/20 pl-10 pr-4 py-2.5`,`hover:bg-white/20 focus:ring-2 focus:ring-gray-300 dark:focus:ring-gray-500 focus:outline-none focus:bg-white/20`,m&&`opacity-50 cursor-not-allowed`]),children:[f===`glass`&&p&&(0,l.jsx)(`span`,{className:`absolute left-3 top-1/2 -translate-y-1/2 text-white/70 [&>svg]:w-4 [&>svg]:h-4 pointer-events-none`,"aria-hidden":`true`,children:p}),(0,l.jsx)(`span`,{className:i(`truncate`,f===`default`&&(e?`text-gray-900 dark:text-gray-100`:`text-gray-500 dark:text-gray-400`),f===`glass`&&`text-white`),children:e||d}),(0,l.jsx)(o,{className:i(`h-4 w-4 transition-transform flex-shrink-0 ml-2`,f===`default`&&`text-gray-400 dark:text-gray-500`,f===`glass`&&`text-white/70`,g&&`rotate-180`),"aria-hidden":`true`})]}),g&&(0,c.createPortal)((0,l.jsx)(`div`,{style:{position:`fixed`,top:h===`below`?v.top+v.height+4:v.top,left:v.left,width:v.width,transform:h===`above`?`translateY(-100%) translateY(-4px)`:void 0,zIndex:1e4},className:i(`overflow-hidden rounded-xl shadow-xl backdrop-blur-md`,f===`default`&&`border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800`,f===`glass`&&`border border-white/20 bg-white/15`),children:(0,l.jsx)(`div`,{id:w,role:`listbox`,"aria-label":r||`Opções`,className:`max-h-60 overflow-y-auto p-1 scroll-smooth`,children:n.map((t,n)=>{let r=e===t,o=b===n;return(0,l.jsxs)(`div`,{id:`${w}-option-${n}`,role:`option`,"aria-selected":r,ref:r?C:null,onMouseDown:e=>{e.preventDefault(),e.stopPropagation(),T(t)},onMouseEnter:()=>x(n),className:i(`flex cursor-pointer items-center justify-between rounded-lg px-3 py-2 text-sm transition-colors`,f===`default`&&[(o||r)&&`bg-gray-100 dark:bg-gray-700`,!o&&!r&&`hover:bg-gray-50 dark:hover:bg-gray-700`,r?`font-semibold text-gray-900 dark:text-gray-100`:`text-gray-700 dark:text-gray-300`],f===`glass`&&[`text-white`,(o||r)&&`bg-white/25`,!o&&!r&&`hover:bg-white/20`]),children:[(0,l.jsx)(`span`,{className:`truncate`,children:t}),r&&(0,l.jsx)(a,{className:i(`h-4 w-4 flex-shrink-0 ml-2`,f===`glass`?`text-white`:`text-blue-600`),"aria-hidden":`true`})]},t)})})}),document.body)]})}export{u as t};