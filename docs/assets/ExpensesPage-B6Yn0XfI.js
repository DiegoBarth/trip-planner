const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ExpenseList-BXnG8pT9.js","assets/index-C_ascuSl.js","assets/router-Di_NAznc.js","assets/google-login-button-DJk_bU6U.js","assets/rolldown-runtime-CWU8vmCm.js","assets/react-query-B2gPi3Dv.js","assets/ui-icons-DfyJ0tMc.js","assets/react-vendor-4zdDN2Qr.js","assets/zod-BU_exWGf.js","assets/index-BCpq-9-m.css","assets/DateField-BwJXrpfi.js","assets/date-fns-C6XrF-pP.js","assets/DateField-Chw94eNX.css","assets/validateWithToast-CbeOQX8a.js","assets/useFocusTrap-I3XsbeOm.js","assets/ModalExpense-odMjWaUX.js","assets/useCurrency-BBad94he.js","assets/ConfirmModal-ulXrbsZh.js","assets/EmptyState-05pEe33S.js"])))=>i.map(i=>d[i]);
import{T as e,w as t}from"./google-login-button-DJk_bU6U.js";import"./react-vendor-4zdDN2Qr.js";import{c as n,l as r,n as i}from"./router-Di_NAznc.js";import"./react-query-B2gPi3Dv.js";import{Z as a,h as o}from"./ui-icons-DfyJ0tMc.js";import"./zod-BU_exWGf.js";import{J as s,R as c,Y as l,p as u}from"./index-C_ascuSl.js";import"./useFocusTrap-I3XsbeOm.js";import"./validateWithToast-CbeOQX8a.js";import"./useCurrency-BBad94he.js";import"./DateField-BwJXrpfi.js";import"./date-fns-C6XrF-pP.js";import{t as d}from"./ModalExpense-odMjWaUX.js";import{t as f}from"./useExpense-By-Kc-5t.js";import{t as p}from"./PageHeader-CRKmjbDF.js";import{t as m}from"./Fab-DGEYS5dZ.js";import{t as h}from"./BudgetOriginFilter-5yadw0l6.js";var g=e(),_=t(),v=(0,g.lazy)(()=>r(()=>import(`./ExpenseList-BXnG8pT9.js`),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18])));function y(e){if(!e)return``;if(e.includes(`/`)){let[t,n,r]=e.split(`/`);return`${r}-${n.padStart(2,`0`)}-${t.padStart(2,`0`)}`}return e.split(`T`)[0]}function b(){let[e]=n(),{country:t}=l(),{expenses:r,isLoading:b,createExpense:x,updateExpense:S,deleteExpense:C}=f(t),[w,T]=(0,g.useState)(!1),[E,D]=(0,g.useState)(`all`),O=e.get(`date`),k=(0,g.useMemo)(()=>{let e=r;return O&&(e=e.filter(e=>y(e.date)===O)),E!==`all`&&(e=e.filter(e=>e.budgetOrigin===E)),e},[r,E,O]),A=s(),j=async e=>{try{await x(e),A.success(`Gasto criado com sucesso!`)}catch(e){console.error(`Error creating expense:`,e),A.error(`Erro ao criar gasto`)}};return(0,_.jsxs)(`div`,{className:`min-h-screen bg-gray-50 dark:bg-gray-900 pb-20 md:pb-6`,children:[(0,_.jsx)(p,{title:`Gastos`,subtitle:O?`Filtrando por ${c(O)}`:`Registre e acompanhe seus gastos`,filter:(0,_.jsxs)(`div`,{className:`flex gap-2 flex-wrap md:flex-nowrap items-center`,children:[O&&(0,_.jsxs)(i,{to:`/expenses`,className:`flex items-center gap-1.5 px-3 py-2 rounded-lg bg-amber-100 dark:bg-amber-900/40 text-amber-800 dark:text-amber-200 text-sm font-medium hover:bg-amber-200 dark:hover:bg-amber-800/50 transition-colors`,children:[(0,_.jsx)(a,{className:`w-4 h-4`}),`Limpar filtro de data`]}),(0,_.jsx)(u,{showDayFilter:!1}),(0,_.jsx)(h,{value:E,onChange:D})]})}),(0,_.jsx)(`main`,{className:`max-w-6xl mx-auto px-4 md:px-6 py-6 mb-12`,children:(0,_.jsx)(g.Suspense,{fallback:null,children:(0,_.jsx)(v,{expenses:k,onCreate:j,onUpdate:async e=>{try{await S(e),A.success(`Gasto atualizado com sucesso!`)}catch(e){console.error(`Error updating expense:`,e),A.error(`Erro ao atualizar gasto`)}},onDelete:async e=>{try{await C(e),A.success(`Gasto excluÃ­do com sucesso!`)}catch(e){console.error(`Error deleting expense:`,e),A.error(`Erro ao excluir gasto`)}},isLoading:b})})}),(0,_.jsx)(m,{onClick:()=>T(!0),icon:(0,_.jsx)(o,{className:`w-6 h-6`}),label:`Adicionar`}),w&&(0,_.jsx)(g.Suspense,{fallback:null,children:(0,_.jsx)(d,{isOpen:w,onClose:()=>T(!1),onSave:async e=>{await j(e),T(!1)}})})]})}export{b as default};