import{p as e}from"./dnd-kit-DVJe_fUm.js";import{t}from"./react-ClFNaAWa.js";import{n}from"./router-BfVF4rnG.js";import{C as r,H as i,I as a,L as o,V as s,f as c,h as l,j as u,l as d,o as f,q as p,r as m,s as h,v as g,x as _,z as v}from"./lucide-Cl0F56l1.js";import"./react-query-DJIZh4EV.js";import"./recharts-DF4PcA12.js";import{A as y,_ as b,h as x,r as S,s as C,t as w}from"./index-vprI5MXU.js";import"./CustomSelect-mXmYJm5w.js";import{r as T}from"./FilterSheetContext-Bv9v2BUf.js";import{t as E}from"./CountryFilter-DUm4zMqC.js";var D=t();function O({origin:e,total:t,spent:n,remaining:r}){let i=y[e],a=t>0?n/t*100:0;return(0,D.jsx)(`div`,{className:`bg-white dark:bg-gray-800 rounded-2xl shadow-md overflow-hidden border-l-4 transition-shadow hover:shadow-lg`,style:{borderLeftColor:i.color},children:(0,D.jsxs)(`div`,{className:`p-4`,children:[(0,D.jsxs)(`div`,{className:`flex items-center gap-2 mb-4`,children:[(0,D.jsx)(`span`,{className:`text-2xl`,"aria-hidden":!0,children:i.icon}),(0,D.jsx)(`span`,{className:`font-semibold text-gray-900 dark:text-gray-100`,children:i.label})]}),(0,D.jsxs)(`div`,{className:`space-y-3`,children:[(0,D.jsxs)(`div`,{className:`flex justify-between items-baseline`,children:[(0,D.jsx)(`span`,{className:`text-xs text-gray-500 dark:text-gray-400 uppercase tracking-wide`,children:`Total`}),(0,D.jsx)(`span`,{className:`font-bold text-lg text-gray-900 dark:text-gray-100`,children:b(t)})]}),(0,D.jsxs)(`div`,{className:`flex justify-between items-baseline text-sm`,children:[(0,D.jsx)(`span`,{className:`text-gray-500 dark:text-gray-400`,children:`Gasto`}),(0,D.jsx)(`span`,{className:`font-semibold text-red-600`,children:b(n)})]}),(0,D.jsxs)(`div`,{className:`flex justify-between items-baseline text-sm`,children:[(0,D.jsx)(`span`,{className:`text-gray-500 dark:text-gray-400`,children:`Restante`}),(0,D.jsx)(`span`,{className:`font-semibold text-emerald-600`,children:b(r)})]})]}),(0,D.jsxs)(`div`,{className:`pt-3 border-gray-100 dark:border-gray-700`,children:[(0,D.jsxs)(`div`,{className:`flex justify-between items-center`,children:[(0,D.jsx)(`span`,{className:`text-xs text-gray-400 dark:text-gray-500`,children:`Utilizado`}),(0,D.jsxs)(`span`,{className:`text-xs font-medium text-gray-600 dark:text-gray-400`,children:[a.toFixed(1),`%`]})]}),(0,D.jsx)(`div`,{className:`mt-1.5 h-1.5 bg-gray-100 dark:bg-gray-700 rounded-full overflow-hidden`,children:(0,D.jsx)(`div`,{className:`h-full rounded-full transition-all duration-300`,style:{width:`${Math.min(a,100)}%`,backgroundColor:i.color}})})]})]})})}function k(){let{budgetSummary:e}=S();if(!e)return null;let{totalBudget:t,totalSpent:n,remainingBalance:r,byOrigin:i}=e,a=t>0?n/t*100:0;return(0,D.jsxs)(`div`,{children:[(0,D.jsx)(`div`,{className:`flex items-center justify-between mb-4`,children:(0,D.jsxs)(`h2`,{className:`text-lg font-semibold text-gray-900 dark:text-gray-100 flex items-center gap-2`,children:[(0,D.jsx)(m,{className:`w-5 h-5 text-gray-600 dark:text-gray-400`}),`Resumo Financeiro`]})}),(0,D.jsx)(`div`,{className:`
               rounded-2xl shadow-lg overflow-hidden mb-4
               ${r>=0?`bg-gradient-to-br from-emerald-500 to-teal-600`:`bg-gradient-to-br from-rose-500 to-pink-600`}
               text-white
            `,children:(0,D.jsxs)(`div`,{className:`p-5 md:p-6`,children:[(0,D.jsx)(`p`,{className:`text-sm font-medium opacity-90 mb-1`,children:`Saldo disponível`}),(0,D.jsx)(`p`,{className:`text-3xl md:text-4xl font-bold tracking-tight`,children:new Intl.NumberFormat(`pt-BR`,{style:`currency`,currency:`BRL`}).format(r)}),(0,D.jsxs)(`div`,{className:`mt-4 pt-4 border-t border-white/20`,children:[(0,D.jsxs)(`div`,{className:`flex justify-between text-xs font-medium opacity-90 mb-1.5`,children:[(0,D.jsx)(`span`,{children:`Gasto`}),(0,D.jsx)(`span`,{children:`Restante`})]}),(0,D.jsx)(`div`,{className:`h-1.5 bg-white/25 rounded-full overflow-hidden`,children:(0,D.jsx)(`div`,{className:`h-full bg-white rounded-full transition-all duration-500`,style:{width:`${Math.min(a,100)}%`}})}),(0,D.jsxs)(`div`,{className:`flex justify-between mt-2 text-xs opacity-85`,children:[(0,D.jsx)(`span`,{children:new Intl.NumberFormat(`pt-BR`,{style:`currency`,currency:`BRL`,maximumFractionDigits:0}).format(n)}),(0,D.jsx)(`span`,{children:new Intl.NumberFormat(`pt-BR`,{style:`currency`,currency:`BRL`,maximumFractionDigits:0}).format(t)})]})]})]})}),(0,D.jsx)(`div`,{className:`grid grid-cols-1 md:grid-cols-3 gap-3`,children:Object.entries(i).map(([e,t])=>(0,D.jsx)(O,{origin:e,total:t.totalBudget,spent:t.totalSpent,remaining:t.remainingBalance},e))})]})}var A=e();function j(e,t,n){let r=`https://www.google.com/maps/search/?api=1&query=${e},${t}&query_place_id=${encodeURIComponent(n)}`;window.open(r,`_blank`)}function M(){let{attractions:e,country:t}=S(),{toggleVisited:r}=C(t),s=(0,A.useMemo)(()=>{let t=new Date;t.setHours(0,0,0,0);let n=e.filter(e=>e.date&&e.lat&&e.lng).map(e=>({...e,parsedDate:new Date(x(e.date)+`T12:00:00`)})).sort((e,t)=>e.parsedDate.getTime()-t.parsedDate.getTime());if(n.length===0)return null;let r=n.some(e=>{let n=e.parsedDate;return n.getFullYear()===t.getFullYear()&&n.getMonth()===t.getMonth()&&n.getDate()===t.getDate()}),i=r?t:n.find(e=>e.parsedDate>=t)?.parsedDate??null;if(!i)return null;let a=n.filter(e=>{let t=e.parsedDate;return t.getFullYear()===i.getFullYear()&&t.getMonth()===i.getMonth()&&t.getDate()===i.getDate()});if(a.length===0)return null;let o=[...a].sort((e,t)=>e.order-t.order),s=r?o.find(e=>e.id!==-999&&!e.visited):null;return{date:i,day:a[0].day,isToday:r,attractionsCount:a.length,attractions:a.slice(0,3),attractionsAll:o,nextAttraction:s??null}},[e]);if(!s)return(0,D.jsxs)(`div`,{className:`bg-white dark:bg-gray-800 rounded-2xl shadow-md p-6 text-center`,children:[(0,D.jsx)(p,{className:`w-12 h-12 text-gray-400 mx-auto mb-3`}),(0,D.jsx)(`p`,{className:`text-gray-600 dark:text-gray-400`,children:`Nenhum dia planejado`})]});let c=s.date.toLocaleDateString(`pt-BR`,{weekday:`long`,day:`numeric`,month:`long`}),l=(0,D.jsxs)(D.Fragment,{children:[(0,D.jsxs)(`div`,{className:`flex items-start justify-between mb-4`,children:[(0,D.jsxs)(`div`,{children:[(0,D.jsxs)(`div`,{className:`flex items-center gap-2 mb-1 opacity-90`,children:[(0,D.jsx)(p,{className:`w-4 h-4`}),(0,D.jsx)(`span`,{className:`text-sm font-medium`,children:s.isToday?`Hoje`:`Próximo Dia`})]}),(0,D.jsx)(`h3`,{className:`text-2xl font-bold capitalize`,children:c}),(0,D.jsxs)(`p`,{className:`text-sm opacity-90 mt-1`,children:[`Dia `,s.day,` da viagem`]})]}),(0,D.jsx)(i,{className:`w-6 h-6 opacity-80`})]}),(0,D.jsxs)(`div`,{className:`flex items-center gap-2 text-sm opacity-90`,children:[(0,D.jsx)(_,{className:`w-4 h-4`}),(0,D.jsxs)(`span`,{children:[s.attractionsCount,` `,s.attractionsCount===1?`local`:`locais`,` planejados`]})]})]}),u=s.isToday&&(s.nextAttraction||s.attractionsAll.length>0);return(0,D.jsxs)(`div`,{className:`bg-gradient-to-br from-blue-500 to-purple-600 text-white rounded-2xl shadow-lg p-6 focus-within:ring-2 focus-within:ring-white/50 focus-within:outline-none`,children:[(0,D.jsx)(n,{to:`/timeline`,className:`block hover:opacity-95 transition-opacity focus:outline-none`,children:l}),u&&(0,D.jsxs)(`div`,{className:`mt-4 pt-4 border-t border-white/20 space-y-3`,children:[s.nextAttraction&&(0,D.jsxs)(`div`,{className:`flex items-center justify-between gap-2 flex-wrap`,children:[(0,D.jsxs)(`div`,{className:`min-w-0`,children:[(0,D.jsx)(`p`,{className:`text-xs font-medium opacity-90`,children:`Próxima parada`}),(0,D.jsx)(`p`,{className:`font-semibold truncate`,children:s.nextAttraction.name})]}),(0,D.jsxs)(`button`,{type:`button`,onClick:e=>{e.preventDefault(),j(s.nextAttraction.lat,s.nextAttraction.lng,s.nextAttraction.name)},className:`flex items-center gap-1.5 px-3 py-2 rounded-lg bg-white/20 hover:bg-white/30 text-sm font-medium transition-colors`,children:[(0,D.jsx)(g,{className:`w-4 h-4`}),`Navegar`]})]}),(0,D.jsxs)(`div`,{className:`space-y-1.5`,children:[(0,D.jsxs)(`p`,{className:`text-xs font-medium opacity-90 flex items-center gap-1.5`,children:[(0,D.jsx)(a,{className:`w-3.5 h-3.5`}),`Toque para marcar visitado`]}),s.attractionsAll.map(e=>(0,D.jsxs)(`button`,{type:`button`,onClick:t=>{t.preventDefault(),e.id!==-999&&r(e.id)},disabled:e.id===-999,className:`w-full flex items-center gap-2 text-left py-2 px-3 rounded-lg bg-white/10 hover:bg-white/20 transition-colors disabled:opacity-60 disabled:cursor-not-allowed`,children:[e.visited?(0,D.jsx)(v,{className:`w-5 h-5 text-green-200 flex-shrink-0`}):(0,D.jsx)(o,{className:`w-5 h-5 opacity-70 flex-shrink-0`}),(0,D.jsx)(`span`,{className:e.visited?`line-through opacity-80`:``,children:e.name})]},e.id))]})]}),!u&&s.attractions.length>0&&(0,D.jsxs)(`div`,{className:`mt-3 pt-3 border-t border-white/20`,children:[(0,D.jsxs)(`div`,{className:`flex items-center gap-2 text-sm opacity-90 mb-2`,children:[(0,D.jsx)(a,{className:`w-4 h-4`}),(0,D.jsx)(`span`,{children:`Primeiros locais:`})]}),(0,D.jsxs)(`ul`,{className:`space-y-1 text-sm`,children:[s.attractions.map((e,t)=>(0,D.jsxs)(`li`,{className:`opacity-90`,children:[t+1,`. `,e.name]},e.id)),s.attractionsCount>3&&(0,D.jsxs)(`li`,{className:`opacity-75 italic`,children:[`+ `,s.attractionsCount-3,` mais...`]})]})]})]})}function N(e){if(!e)return``;if(e.includes(`/`)){let[t,n,r]=e.split(`/`);return`${r}-${n.padStart(2,`0`)}-${t.padStart(2,`0`)}`}return e.split(`T`)[0]}function P(){let{expenses:e}=S(),t=(0,A.useMemo)(()=>{let t=new Date,n=`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,`0`)}-${String(t.getDate()).padStart(2,`0`)}`,r=e.filter(e=>N(e.date)===n);return{total:r.reduce((e,t)=>e+t.amountInBRL,0),count:r.length}},[e]);return(0,D.jsxs)(n,{to:`/expenses`,className:`flex items-center justify-between bg-white dark:bg-gray-800 rounded-2xl shadow-md p-4 hover:shadow-lg transition-shadow focus:ring-2 focus:ring-blue-500 focus:outline-none`,children:[(0,D.jsxs)(`div`,{className:`flex items-center gap-3`,children:[(0,D.jsx)(`div`,{className:`w-11 h-11 rounded-xl bg-amber-100 dark:bg-amber-900/40 flex items-center justify-center`,children:(0,D.jsx)(m,{className:`w-5 h-5 text-amber-600 dark:text-amber-400`})}),(0,D.jsxs)(`div`,{children:[(0,D.jsx)(`p`,{className:`text-sm font-medium text-gray-500 dark:text-gray-400`,children:`Gastos de hoje`}),(0,D.jsx)(`p`,{className:`text-lg font-bold text-gray-900 dark:text-gray-100`,children:b(t.total,`BRL`)}),t.count>0&&(0,D.jsxs)(`p`,{className:`text-xs text-gray-500 dark:text-gray-400`,children:[t.count,` `,t.count===1?`registro`:`registros`]})]})]}),(0,D.jsx)(i,{className:`w-5 h-5 text-gray-400`})]})}function F(){let{checklistItems:e,reservations:t}=S(),r=(0,A.useMemo)(()=>{let n=e.filter(e=>!e.isPacked),r=t.filter(e=>e.status===`pending`);return{checklist:n.length,reservations:r.length,total:n.length+r.length}},[e,t]);return r.total===0?(0,D.jsx)(`div`,{className:`bg-gradient-to-br from-green-500 to-emerald-600 text-white rounded-2xl shadow-md p-6 focus:ring-2 focus:ring-gray-300 dark:focus:ring-gray-500 focus:outline-none`,children:(0,D.jsxs)(`div`,{className:`flex items-center gap-3`,children:[(0,D.jsx)(c,{className:`w-8 h-8`}),(0,D.jsxs)(`div`,{children:[(0,D.jsx)(`h3`,{className:`text-lg font-bold`,children:`Tudo em dia!`}),(0,D.jsx)(`p`,{className:`text-sm opacity-90`,children:`Nenhuma pendência no momento`})]})]})}):(0,D.jsxs)(`div`,{className:`bg-white rounded-2xl shadow-md overflow-hidden focus:ring-2 focus:ring-gray-300 dark:focus:ring-gray-500 focus:outline-none`,children:[(0,D.jsx)(`div`,{className:`bg-gradient-to-r from-orange-500 to-red-500 text-white px-6 py-4`,children:(0,D.jsxs)(`div`,{className:`flex items-center gap-3`,children:[(0,D.jsx)(s,{className:`w-6 h-6`}),(0,D.jsxs)(`div`,{children:[(0,D.jsx)(`h3`,{className:`text-lg font-bold`,children:`Pendências`}),(0,D.jsxs)(`p`,{className:`text-sm opacity-90`,children:[r.total,` `,r.total===1?`item`:`itens`,` para resolver`]})]})]})}),(0,D.jsxs)(`div`,{className:`divide-y divide-gray-200`,children:[r.checklist>0&&(0,D.jsxs)(n,{to:`/checklist`,className:`flex items-center justify-between p-4 hover:bg-gray-50 transition-colors group focus:ring-2 focus:ring-gray-300 dark:focus:ring-gray-500 focus:outline-none`,children:[(0,D.jsxs)(`div`,{className:`flex items-center gap-3`,children:[(0,D.jsx)(`div`,{className:`w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center group-hover:bg-blue-200 transition-colors`,children:(0,D.jsx)(c,{className:`w-5 h-5 text-blue-600`})}),(0,D.jsxs)(`div`,{children:[(0,D.jsx)(`p`,{className:`font-semibold text-gray-900`,children:`Checklist`}),(0,D.jsxs)(`p`,{className:`text-sm text-gray-600`,children:[r.checklist,` `,r.checklist===1?`item`:`itens`,` para empacotar`]})]})]}),(0,D.jsx)(i,{className:`w-5 h-5 text-gray-400 group-hover:text-gray-600`})]}),r.reservations>0&&(0,D.jsxs)(n,{to:`/reservations`,className:`flex items-center justify-between p-4 hover:bg-gray-50 transition-colors group focus:ring-2 focus:ring-gray-300 dark:focus:ring-gray-500 focus:outline-none`,children:[(0,D.jsxs)(`div`,{className:`flex items-center gap-3`,children:[(0,D.jsx)(`div`,{className:`w-10 h-10 rounded-full bg-orange-100 flex items-center justify-center group-hover:bg-orange-200 transition-colors`,children:(0,D.jsx)(u,{className:`w-5 h-5 text-orange-600`})}),(0,D.jsxs)(`div`,{children:[(0,D.jsx)(`p`,{className:`font-semibold text-gray-900`,children:`Reservas`}),(0,D.jsxs)(`p`,{className:`text-sm text-gray-600`,children:[r.reservations,` `,r.reservations===1?`reserva pendente`:`reservas pendentes`]})]})]}),(0,D.jsx)(i,{className:`w-5 h-5 text-gray-400 group-hover:text-gray-600`})]})]})]})}var I=[{to:`/budgets`,icon:f,label:`Orçamento`,color:`text-emerald-600`,darkColor:`dark:text-emerald-400`,bgColor:`bg-emerald-100`,hoverColor:`hover:bg-emerald-100`},{to:`/expenses`,icon:h,label:`Gastos`,color:`text-rose-600`,darkColor:`dark:text-rose-400`,bgColor:`bg-rose-100`,hoverColor:`hover:bg-rose-100`},{to:`/attractions`,icon:l,label:`Atrações`,color:`text-purple-600`,darkColor:`dark:text-purple-400`,bgColor:`bg-purple-100`,hoverColor:`hover:bg-purple-100`},{to:`/reservations`,icon:d,label:`Reservas`,color:`text-indigo-600`,darkColor:`dark:text-indigo-400`,bgColor:`bg-indigo-100`,hoverColor:`hover:bg-indigo-100`}];function L(){return(0,D.jsx)(`div`,{className:`grid grid-cols-2 md:grid-cols-4 gap-3`,children:I.map(e=>{let t=e.icon;return(0,D.jsxs)(n,{to:e.to,className:w(`flex flex-col items-center justify-center gap-3 p-4 rounded-2xl`,`transition-all duration-200 active:scale-95`,e.bgColor,e.hoverColor,`dark:bg-gray-800 dark:border dark:border-gray-700`,`focus:ring-2 focus:ring-gray-300 dark:focus:ring-gray-500 focus:outline-none`),children:[(0,D.jsx)(`div`,{className:w(`w-12 h-12 rounded-full flex items-center justify-center`,`bg-white dark:bg-gray-700 shadow-sm`,e.color,e.darkColor),children:(0,D.jsx)(t,{className:`w-6 h-6`})}),(0,D.jsx)(`span`,{className:w(`text-sm font-semibold`,e.color,e.darkColor),children:e.label})]},e.to)})})}function R({onLogout:e}){return(0,D.jsxs)(`div`,{className:`min-h-screen bg-gradient-to-b from-gray-50 to-white dark:from-gray-900 dark:to-gray-800 pb-20`,children:[(0,D.jsx)(`header`,{className:`bg-gradient-to-br from-blue-600 via-purple-600 to-pink-500 text-white`,children:(0,D.jsxs)(`div`,{className:`max-w-6xl mx-auto px-4 pt-6 pb-8`,children:[(0,D.jsxs)(`div`,{className:`flex items-start justify-between mb-6`,children:[(0,D.jsxs)(`div`,{className:`flex-1 min-w-0`,children:[(0,D.jsx)(`h1`,{className:`text-3xl md:text-4xl font-bold font-display`,children:`Japão & Coreia`}),(0,D.jsx)(`p`,{className:`text-sm md:text-base text-white/80 mt-2`,children:`Planeje cada momento da sua aventura`})]}),(0,D.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,D.jsx)(T,{}),(0,D.jsx)(`button`,{type:`button`,onClick:e,className:`p-2 rounded-lg text-white/90 hover:bg-white/20 hover:text-white transition-colors`,title:`Sair`,"aria-label":`Sair da conta`,children:(0,D.jsx)(r,{className:`w-5 h-5`})})]})]}),(0,D.jsx)(E,{hideGeneralOption:!0})]})}),(0,D.jsxs)(`main`,{className:`max-w-6xl mx-auto px-4 md:px-6 py-6 space-y-6`,children:[(0,D.jsxs)(`div`,{className:`flex flex-col gap-6 md:flex-row md:items-stretch md:gap-6`,children:[(0,D.jsx)(`section`,{className:`md:min-w-0 md:flex-[2]`,children:(0,D.jsx)(M,{})}),(0,D.jsxs)(`section`,{className:`flex flex-col gap-6 md:flex-1 md:min-h-0`,children:[(0,D.jsx)(F,{}),(0,D.jsx)(`div`,{className:`md:min-h-0 md:flex-1 md:flex md:flex-col md:justify-end`,children:(0,D.jsx)(P,{})})]})]}),(0,D.jsxs)(`section`,{children:[(0,D.jsx)(`h2`,{className:`text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4`,children:`Navegação Rápida`}),(0,D.jsx)(L,{})]}),(0,D.jsx)(`section`,{children:(0,D.jsx)(k,{})})]})]})}export{R as default};