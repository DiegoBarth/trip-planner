import{C as e,S as t,s as n}from"./google-login-button-CK2bO50y.js";import{a as r,i,n as a,o,s}from"./zod-BU_exWGf.js";import{J as c}from"./index-BcH8idzW.js";import{i as l,n as u,t as d}from"./validateWithToast-DEDJtjiG.js";const f=o({category:a([`documents`,`clothes`,`electronics`,`hygiene`,`medicines`,`accessories`,`entertainment`,`other`],{message:`A Categoria é obrigatória.`}),description:s().trim().min(1,`A Descrição é obrigatória.`),isPacked:i(),quantity:r().min(1,`A Quantidade deve ser pelo menos 1.`),notes:s().optional()});f.extend({id:r({message:`O ID é obrigatório.`})});var p=e(),m=t();function h({item:e,isOpen:t,onClose:r,onSave:i}){let a=c(),[o,s]=(0,p.useState)(!1),{register:h,handleSubmit:g,watch:_,setValue:v,reset:y}=l({defaultValues:{category:`other`,description:``,isPacked:!1,quantity:`1`,notes:``}}),b=_();return(0,p.useEffect)(()=>{t&&y(e?{category:e.category,description:e.description,isPacked:e.isPacked,quantity:e.quantity?.toString()||`1`,notes:e.notes||``}:{category:`other`,description:``,isPacked:!1,quantity:`1`,notes:``})},[t,e,y]),(0,m.jsx)(u,{isOpen:t,onClose:r,title:e?`Editar Item`:`Novo Item`,type:e?`edit`:`create`,onSave:g(async e=>{let t=parseInt(e.quantity)||1,n={category:e.category,description:e.description.trim(),isPacked:e.isPacked,quantity:t>1?t:1,notes:e.notes.trim()||``};if(d(n,f,a)){s(!0);try{await Promise.resolve(i(n)),r()}finally{s(!1)}}}),loading:o,loadingText:`Salvando...`,size:`md`,children:(0,m.jsxs)(`div`,{className:`space-y-4`,children:[(0,m.jsxs)(`div`,{children:[(0,m.jsx)(`label`,{htmlFor:`checklist-category`,className:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5`,children:`Categoria *`}),(0,m.jsx)(`div`,{className:`grid grid-cols-3 md:grid-cols-4 gap-2`,children:Object.entries(n).map(([e,t])=>(0,m.jsxs)(`button`,{type:`button`,onClick:()=>v(`category`,e),className:`p-3 rounded-lg border-2 transition-all focus:ring-2 focus:ring-gray-300 dark:focus:ring-gray-500 focus:outline-none ${b.category===e?`border-blue-500 bg-blue-50 dark:bg-blue-900/40 shadow-md`:`border-gray-200 dark:border-gray-600 hover:border-gray-300 dark:hover:border-gray-500`}`,children:[(0,m.jsx)(`div`,{className:`text-2xl mb-1`,children:t.icon}),(0,m.jsx)(`div`,{className:`font-medium text-xs ${b.category===e?`text-blue-700 dark:text-blue-300`:`text-gray-700 dark:text-gray-300`}`,children:t.label})]},e))})]}),(0,m.jsxs)(`div`,{children:[(0,m.jsx)(`label`,{htmlFor:`checklist-description`,className:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5`,children:`Descrição *`}),(0,m.jsx)(`input`,{id:`checklist-description`,type:`text`,required:!0,autoComplete:`off`,...h(`description`),className:`w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 placeholder:text-gray-400 dark:placeholder:text-gray-500 focus:ring-2 focus:ring-gray-300 dark:focus:ring-gray-500 focus:outline-none`,placeholder:`Ex: Passaporte, Adaptador de tomada, etc.`})]}),(0,m.jsxs)(`div`,{children:[(0,m.jsx)(`label`,{htmlFor:`checklist-quantity`,className:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5`,children:`Quantidade`}),(0,m.jsx)(`input`,{id:`checklist-quantity`,type:`number`,min:`1`,autoComplete:`off`,...h(`quantity`),className:`w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-gray-300 dark:focus:ring-gray-500 focus:outline-none`}),(0,m.jsx)(`p`,{className:`text-xs text-gray-500 dark:text-gray-400 mt-1`,children:`Deixe em 1 se for um item único`})]}),(0,m.jsxs)(`div`,{className:`flex items-center gap-3`,children:[(0,m.jsx)(`input`,{id:`checklist-packed`,type:`checkbox`,...h(`isPacked`),className:`w-5 h-5 rounded border-gray-300 dark:border-gray-600 text-green-600 focus:ring-gray-300 dark:focus:ring-gray-500 bg-white dark:bg-gray-700`}),(0,m.jsx)(`label`,{htmlFor:`checklist-packed`,className:`text-sm font-medium text-gray-700 dark:text-gray-300`,children:`Item já está empacotado`})]}),(0,m.jsxs)(`div`,{children:[(0,m.jsx)(`label`,{htmlFor:`checklist-notes`,className:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5`,children:`Observações`}),(0,m.jsx)(`textarea`,{id:`checklist-notes`,...h(`notes`),rows:3,autoComplete:`off`,className:`w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 placeholder:text-gray-400 dark:placeholder:text-gray-500 focus:ring-2 focus:ring-gray-300 dark:focus:ring-gray-500 focus:outline-none`,placeholder:`Detalhes adicionais sobre este item...`})]})]})})}export{h as t};