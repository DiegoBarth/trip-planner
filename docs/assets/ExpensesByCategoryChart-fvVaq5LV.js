import{C as e,S as t}from"./google-login-button-CK2bO50y.js";import{F as n}from"./index-BcH8idzW.js";var r=e(),i=t(),a=[`#10B981`,`#3B82F6`,`#F59E0B`,`#EF4444`,`#8B5CF6`,`#6B7280`],o=e=>e?e.charAt(0).toUpperCase()+e.slice(1).toLowerCase():``;function s(e,t,n,r,i){let a=e+n*Math.cos(r),o=t+n*Math.sin(r),s=e+n*Math.cos(i),c=t+n*Math.sin(i);return`M ${e} ${t} L ${a} ${o} A ${n} ${n} 0 ${i-r>Math.PI?1:0} 1 ${s} ${c} Z`}function c({data:e}){let[t,c]=(0,r.useState)(null),[l,u]=(0,r.useState)({x:0,y:0}),{segments:d}=(0,r.useMemo)(()=>{let t=e.reduce((e,t)=>e+t.total,0),n=-Math.PI/2;return{segments:e.map((e,r)=>{let i=t>0?e.total/t*2*Math.PI:0,o=n;return n+=i,{category:e.category,total:e.total,startAngle:o,endAngle:n,color:a[r%a.length]}})}},[e]),f=(e,t)=>{c(t);let n=e.currentTarget.closest(`.chart-container`)?.getBoundingClientRect();n&&u({x:e.clientX-n.left,y:e.clientY-n.top})};return(0,i.jsxs)(`div`,{className:`bg-white dark:bg-gray-800 p-6 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 hover:shadow-md transition-shadow duration-300 overflow-hidden`,children:[(0,i.jsxs)(`h2`,{className:`text-gray-700 dark:text-gray-200 font-bold text-lg mb-6 flex items-center gap-2`,children:[(0,i.jsx)(`span`,{className:`p-2 bg-emerald-100 dark:bg-emerald-900/50 text-emerald-700 dark:text-emerald-400 rounded-lg text-sm`,children:`ðŸ“Š`}),`Gastos por Categoria`]}),(0,i.jsxs)(`div`,{className:`chart-container w-full relative flex flex-col min-h-0`,children:[(0,i.jsx)(`div`,{className:`flex-1 min-h-[200px] max-h-[240px] flex items-center justify-center`,children:(0,i.jsxs)(`svg`,{viewBox:`0 0 200 180`,className:`w-full h-full max-h-[220px]`,preserveAspectRatio:`xMidYMid meet`,"aria-label":`GrÃ¡fico de gastos por categoria`,children:[d.map((e,t)=>(0,i.jsx)(`path`,{d:s(100,95,75,e.startAngle,e.endAngle),fill:e.color,className:`hover:opacity-80 transition-opacity outline-none cursor-pointer`,onMouseEnter:e=>f(e,t),onMouseMove:e=>f(e,t),onMouseLeave:()=>c(null),"aria-hidden":!0},`segment-${t}`)),t!==null&&d[t]&&(0,i.jsx)(`g`,{children:(0,i.jsxs)(`title`,{children:[o(d[t].category),`: `,n(d[t].total)]})})]})}),t!==null&&d[t]&&(0,i.jsxs)(`div`,{className:`pointer-events-none absolute z-10 px-3 py-2 text-sm font-medium text-gray-900 bg-white dark:bg-gray-700 dark:text-gray-100 rounded-lg shadow-md border border-gray-200 dark:border-gray-600`,style:{left:l.x+12,top:l.y+8},children:[o(d[t].category),`: `,n(d[t].total)]}),(0,i.jsx)(`div`,{className:`flex flex-wrap justify-center gap-x-4 gap-y-1 pt-2 flex-shrink-0`,role:`list`,"aria-label":`Legenda`,children:d.map(e=>(0,i.jsxs)(`span`,{className:`flex items-center gap-1.5 text-sm text-gray-600 dark:text-gray-300`,role:`listitem`,children:[(0,i.jsx)(`span`,{className:`w-2.5 h-2.5 rounded-full flex-shrink-0`,style:{backgroundColor:e.color},"aria-hidden":!0}),o(e.category)]},e.category))})]})]})}export{c as default};