import"./dnd-kit-DVJe_fUm.js";import{t as e}from"./react-ClFNaAWa.js";import"./router-BfVF4rnG.js";import"./lucide-CpCSl3L4.js";import"./react-query-DJIZh4EV.js";import{a as t,c as n,d as r,i,l as a,n as o,o as s,r as c,s as l,t as u,u as d}from"./recharts-CxBv7Za6.js";import{_ as f,r as p}from"./index-5C2ahvEh.js";import"./useMediaQuery-VaZrTpFH.js";import"./FilterSheetContext-DH1cdI4W.js";import{t as m}from"./PageHeader-D2v6m0T7.js";var h=e();function g({label:e,value:t,subValue:n,icon:r,iconClass:i}){return(0,h.jsxs)(`div`,{className:`bg-white dark:bg-gray-800 p-5 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 flex items-center gap-4 min-h-[100px]`,children:[(0,h.jsx)(`div`,{className:`flex-shrink-0 w-14 h-14 rounded-xl flex items-center justify-center text-2xl ${i}`,children:r}),(0,h.jsxs)(`div`,{className:`min-w-0 flex-1`,children:[(0,h.jsx)(`p`,{className:`text-gray-500 dark:text-gray-400 text-sm font-medium`,children:e}),(0,h.jsx)(`h4`,{className:`text-xl md:text-2xl font-bold text-gray-800 dark:text-gray-100 truncate`,children:t}),n&&(0,h.jsx)(`p`,{className:`text-xs text-gray-400 dark:text-gray-500 mt-0.5`,children:n})]})]})}function _({status:e}){let t=e.visitedPercentage;return(0,h.jsxs)(`div`,{className:`bg-white dark:bg-gray-800 p-6 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700`,children:[(0,h.jsxs)(`div`,{className:`flex justify-between mb-4`,children:[(0,h.jsx)(`h3`,{className:`font-bold text-gray-700 dark:text-gray-200 text-lg`,children:`üé¢ Progresso da Viagem`}),(0,h.jsxs)(`span`,{className:`text-purple-600 dark:text-purple-400 font-semibold`,children:[Math.round(t),`%`]})]}),(0,h.jsx)(`div`,{className:`w-full bg-gray-100 dark:bg-gray-700 rounded-full h-4 mb-6`,children:(0,h.jsx)(`div`,{className:`bg-gradient-to-r from-purple-500 to-indigo-500 h-4 rounded-full transition-all`,style:{width:`${t}%`}})}),(0,h.jsxs)(`div`,{className:`grid grid-cols-3 text-center gap-4`,children:[(0,h.jsxs)(`div`,{children:[(0,h.jsx)(`p`,{className:`text-xs text-gray-400 dark:text-gray-500`,children:`Total`}),(0,h.jsx)(`p`,{className:`font-bold text-gray-900 dark:text-gray-100`,children:e.total})]}),(0,h.jsxs)(`div`,{children:[(0,h.jsx)(`p`,{className:`text-xs text-emerald-500 dark:text-emerald-400`,children:`Visitados`}),(0,h.jsx)(`p`,{className:`font-bold text-gray-900 dark:text-gray-100`,children:e.visited})]}),(0,h.jsxs)(`div`,{children:[(0,h.jsx)(`p`,{className:`text-xs text-amber-500 dark:text-amber-400`,children:`Pendentes`}),(0,h.jsx)(`p`,{className:`font-bold text-gray-900 dark:text-gray-100`,children:e.total-e.visited})]})]})]})}var v=[`#10B981`,`#3B82F6`,`#F59E0B`,`#EF4444`,`#8B5CF6`,`#6B7280`],y=e=>e?e.charAt(0).toUpperCase()+e.slice(1).toLowerCase():``;function b({data:e}){return(0,h.jsxs)(`div`,{className:`bg-white dark:bg-gray-800 p-6 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 hover:shadow-md transition-shadow duration-300`,children:[(0,h.jsxs)(`h3`,{className:`text-gray-700 dark:text-gray-200 font-bold text-lg mb-6 flex items-center gap-2`,children:[(0,h.jsx)(`span`,{className:`p-2 bg-emerald-100 dark:bg-emerald-900/50 text-emerald-600 dark:text-emerald-400 rounded-lg text-sm`,children:`üìä`}),`Gastos por Categoria`]}),(0,h.jsx)(`div`,{className:`h-[300px] w-full`,children:(0,h.jsx)(r,{width:`100%`,height:`100%`,children:(0,h.jsxs)(u,{children:[(0,h.jsx)(l,{data:e,cx:`50%`,cy:`50%`,innerRadius:70,outerRadius:100,paddingAngle:5,dataKey:`total`,nameKey:`category`,stroke:`none`,children:e.map((e,t)=>(0,h.jsx)(n,{fill:v[t%v.length],className:`hover:opacity-80 transition-opacity outline-none`},`cell-${t}`))}),(0,h.jsx)(a,{formatter:(e,t)=>[f(Number(e)||0),y(String(t||``))],contentStyle:{borderRadius:`12px`,border:`none`,boxShadow:`0 10px 15px -3px rgb(0 0 0 / 0.1)`,padding:`8px 12px`}}),(0,h.jsx)(d,{verticalAlign:`bottom`,height:36,iconType:`circle`,formatter:e=>(0,h.jsx)(`span`,{className:`text-gray-600 text-sm font-medium`,children:y(e)})})]})})})]})}var x=e=>typeof e==`number`?f(e):e;function S({data:e}){return(0,h.jsxs)(`div`,{className:`bg-white dark:bg-gray-800 p-6 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 hover:shadow-md transition-shadow duration-300`,children:[(0,h.jsxs)(`h3`,{className:`text-gray-700 dark:text-gray-200 font-bold text-lg mb-6 flex items-center gap-2`,children:[(0,h.jsx)(`span`,{className:`p-2 bg-blue-100 dark:bg-blue-900/50 text-blue-600 dark:text-blue-400 rounded-lg text-sm`,children:`üí≥`}),`Or√ßamento vs. Realizado`]}),(0,h.jsx)(`div`,{className:`h-[300px] w-full`,children:(0,h.jsx)(r,{width:`100%`,height:`100%`,children:(0,h.jsxs)(o,{data:e,margin:{top:20,right:30,left:0,bottom:5},children:[(0,h.jsx)(s,{strokeDasharray:`3 3`,vertical:!1,stroke:`#E5E7EB`}),(0,h.jsx)(i,{dataKey:`origin`,axisLine:!1,tickLine:!1,tick:{fill:`#6B7280`},dy:10}),(0,h.jsx)(c,{axisLine:!1,tickLine:!1,tick:{fill:`#6B7280`},tickFormatter:e=>`R$${e/1e3}k`}),(0,h.jsx)(a,{formatter:x,cursor:{fill:`#F3F4F6`},contentStyle:{borderRadius:`8px`,border:`none`,boxShadow:`0 4px 6px -1px rgb(0 0 0 / 0.1)`}}),(0,h.jsx)(d,{verticalAlign:`top`,align:`right`,iconType:`circle`,wrapperStyle:{paddingBottom:`20px`}}),(0,h.jsx)(t,{dataKey:`totalBudget`,name:`Or√ßado`,fill:`#3B82F6`,radius:[4,4,0,0],barSize:30}),(0,h.jsx)(t,{dataKey:`spent`,name:`Gasto`,fill:`#EF4444`,radius:[4,4,0,0],barSize:30})]})})})]})}function C(){let{dashboard:e,isReady:t}=p();if(!t)return(0,h.jsxs)(`div`,{className:`min-h-screen bg-gray-50 dark:bg-gray-900 pb-20 md:pb-6`,children:[(0,h.jsx)(m,{title:`Dashboard`,subtitle:`Resumo da sua viagem`}),(0,h.jsxs)(`div`,{className:`flex flex-col items-center justify-center h-[60vh] space-y-4`,children:[(0,h.jsx)(`div`,{className:`animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600`}),(0,h.jsx)(`p`,{className:`text-gray-500 font-medium animate-pulse`,children:`Carregando dados da viagem...`})]})]});let n=e;return(0,h.jsxs)(`div`,{className:`min-h-screen bg-gray-50 dark:bg-gray-900 pb-20 md:pb-6`,children:[(0,h.jsx)(m,{title:`Dashboard`,subtitle:`Resumo completo da sua viagem`}),(0,h.jsxs)(`main`,{className:`max-w-7xl mx-auto px-4 md:px-6 py-6 space-y-6`,children:[(0,h.jsxs)(`div`,{className:`grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4`,children:[(0,h.jsx)(g,{label:`Total Gasto`,value:f(n.totalSpent),subValue:`de ${f(n.totalBudget)} or√ßados`,icon:`üí∏`,iconClass:`bg-rose-100 text-rose-600 dark:bg-rose-950/50 dark:text-rose-400`}),(0,h.jsx)(g,{label:`Saldo Restante`,value:f(n.remaining),icon:`üí∞`,iconClass:`bg-emerald-100 text-emerald-600 dark:bg-emerald-950/50 dark:text-emerald-400`}),(0,h.jsx)(g,{label:`Dura√ß√£o da Viagem`,value:`${n.daysOfTrip} Dias`,icon:`üóìÔ∏è`,iconClass:`bg-blue-100 text-blue-600 dark:bg-blue-950/50 dark:text-blue-400`}),(0,h.jsx)(g,{label:`Atra√ß√µes Pendentes`,value:n.attractionStatus.pendingReservation.toString(),subValue:`Necessitam reserva`,icon:`‚ö†Ô∏è`,iconClass:`bg-amber-100 text-amber-600 dark:bg-amber-950/50 dark:text-amber-400`})]}),(0,h.jsxs)(`div`,{className:`grid grid-cols-1 lg:grid-cols-2 gap-4`,children:[(0,h.jsx)(b,{data:n.expensesByCategory}),(0,h.jsx)(S,{data:n.budgetByOrigin})]}),(0,h.jsxs)(`div`,{className:`grid grid-cols-1 lg:grid-cols-3 gap-4`,children:[(0,h.jsx)(`div`,{className:`lg:col-span-2`,children:(0,h.jsx)(_,{status:n.attractionStatus})}),(0,h.jsx)(`div`,{className:`bg-gradient-to-br from-blue-600 to-purple-600 rounded-2xl p-6 text-white shadow-lg flex flex-col justify-between`,children:(0,h.jsxs)(`div`,{children:[(0,h.jsx)(`h3`,{className:`font-bold text-lg mb-2`,children:`Pr√≥xima Parada?`}),(0,h.jsxs)(`p`,{className:`text-white/90 text-sm`,children:[`Voc√™ tem `,n.attractionStatus.total-n.attractionStatus.visited,` atra√ß√µes restantes no seu roteiro.`]})]})})]})]})]})}export{C as default};