import{C as e,S as t,u as n}from"./google-login-button-CK2bO50y.js";import{F as r}from"./index-C11sPK8M.js";var i=e(),a=t(),o=[`#10B981`,`#3B82F6`,`#F59E0B`,`#EF4444`,`#8B5CF6`,`#6B7280`];function s(e){return n[e]?.label??e}function c(e,t,n,r,i){let a=e+n*Math.cos(r),o=t+n*Math.sin(r),s=e+n*Math.cos(i),c=t+n*Math.sin(i);return`M ${e} ${t} L ${a} ${o} A ${n} ${n} 0 ${i-r>Math.PI?1:0} 1 ${s} ${c} Z`}function l({data:e}){let[t,n]=(0,i.useState)(null),{segments:l}=(0,i.useMemo)(()=>{let t=e.reduce((e,t)=>e+t.total,0),n=-Math.PI/2;return{segments:e.map((e,r)=>{let i=t>0?e.total/t*2*Math.PI:0,a=n;return n+=i,{category:e.category,total:e.total,startAngle:a,endAngle:n,color:o[r%o.length]}})}},[e]),u=(e,t)=>{n(t)},d=()=>{n(null)};return(0,a.jsxs)(`div`,{className:`bg-white dark:bg-gray-800 p-6 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 hover:shadow-md transition-shadow duration-300 overflow-visible`,children:[(0,a.jsxs)(`h2`,{className:`text-gray-700 dark:text-gray-200 font-bold text-lg mb-6 flex items-center gap-2`,children:[(0,a.jsx)(`span`,{className:`p-2 bg-emerald-100 dark:bg-emerald-900/50 text-emerald-700 dark:text-emerald-400 rounded-lg text-sm`,children:`ðŸ“Š`}),`Gastos por Categoria`]}),(0,a.jsxs)(`div`,{className:`chart-container w-full relative flex flex-col min-h-0`,children:[(0,a.jsx)(`div`,{className:`flex-1 min-h-[200px] max-h-[240px] flex items-center justify-center`,children:(0,a.jsxs)(`svg`,{viewBox:`0 0 200 180`,className:`w-full h-full max-h-[220px]`,preserveAspectRatio:`xMidYMid meet`,"aria-label":`GrÃ¡fico de gastos por categoria`,children:[l.map((e,t)=>(0,a.jsx)(`path`,{d:c(100,95,75,e.startAngle,e.endAngle),fill:e.color,className:`hover:opacity-80 transition-opacity outline-none cursor-pointer`,onMouseEnter:e=>u(e,t),onMouseLeave:d,"aria-hidden":!0},`segment-${t}`)),t!==null&&l[t]&&(0,a.jsx)(`g`,{children:(0,a.jsxs)(`title`,{children:[s(l[t].category),`: `,r(l[t].total)]})})]})}),t!==null&&l[t]&&(0,a.jsxs)(`div`,{className:`absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 z-10 px-4 py-2.5 text-sm font-medium text-gray-900 bg-white dark:bg-gray-700 dark:text-gray-100 rounded-lg shadow-lg border border-gray-200 dark:border-gray-600 whitespace-nowrap pointer-events-none`,children:[s(l[t].category),`: `,r(l[t].total)]}),(0,a.jsx)(`div`,{className:`flex flex-wrap justify-center gap-x-4 gap-y-1 pt-2 flex-shrink-0`,role:`list`,"aria-label":`Legenda`,children:l.map(e=>(0,a.jsxs)(`span`,{className:`flex items-center gap-1.5 text-sm text-gray-600 dark:text-gray-300`,role:`listitem`,children:[(0,a.jsx)(`span`,{className:`w-2.5 h-2.5 rounded-full flex-shrink-0`,style:{backgroundColor:e.color},"aria-hidden":!0}),s(e.category)]},e.category))})]})]})}export{l as default};