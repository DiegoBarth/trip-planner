import{i as e,o as t,t as n}from"./react-query-B2gPi3Dv.js";import{c as r,l as i,o as a,s as o,u as s}from"./index-C_ascuSl.js";var c=[`budgets`];function l(e,t){e.setQueryData(c,e=>e?[...e,t]:[t])}function u(e,t,n){e.setQueryData(c,e=>e?e.map(e=>e.id===t.id?n:e):[n])}function d(e,t){e.setQueryData(c,e=>e?e.filter(e=>e.id!==t).map(e=>e.id>t?{...e,id:e.id-1}:e):[])}var f=[`budgets`],p=[`budget_summary`];function m(){let c=t(),{data:m=[],isLoading:h,error:g,refetch:_}=e(o()),{data:v}=e(a()),y=n({mutationFn:e=>r(e),onSuccess:e=>{l(c,e),c.invalidateQueries({queryKey:p})}}),b=n({mutationFn:e=>s(e),onSuccess:e=>{let t=c.getQueryData(f)?.find(t=>t.id===e.id);t&&(u(c,t,e),c.invalidateQueries({queryKey:p}))}}),x=n({mutationFn:e=>i(e),onSuccess:(e,t)=>{c.getQueryData(f)?.find(e=>e.id===t)&&(d(c,t),c.invalidateQueries({queryKey:p}))}});return{budgets:m,budgetSummary:v,isLoading:h,error:g,refetch:_,createBudget:y.mutateAsync,updateBudget:b.mutateAsync,deleteBudget:x.mutateAsync,isCreating:y.isPending,isUpdating:b.isPending,isDeleting:x.isPending}}export{m as t};