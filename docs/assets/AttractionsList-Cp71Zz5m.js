const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ModalAttraction-CqgTWcBr.js","assets/index-BcH8idzW.js","assets/router-BQVnTVu0.js","assets/google-login-button-CK2bO50y.js","assets/rolldown-runtime-CWU8vmCm.js","assets/react-query-BB-sDLdC.js","assets/ui-icons-BBIUuva6.js","assets/react-vendor-B0_zmQzX.js","assets/zod-BU_exWGf.js","assets/index-NS-hxyis.css","assets/DateField-BP8CCOyG.js","assets/date-fns-C6XrF-pP.js","assets/DateField-Chw94eNX.css","assets/validateWithToast-DEDJtjiG.js","assets/useFocusTrap-BHWrhixQ.js","assets/useCurrency-CPfq3DxC.js","assets/useReservation-CMNh7QML.js","assets/AttractionsGridWithDnD-CHScZqQ4.js","assets/AttractionCard-DryxDo5x.js","assets/EmptyState-TiN00nqa.js","assets/useAttractionsGrouped-C01p1VFW.js"])))=>i.map(i=>d[i]);
import{C as e,S as t}from"./google-login-button-CK2bO50y.js";import{l as n}from"./router-BQVnTVu0.js";import{x as r}from"./ui-icons-BBIUuva6.js";import{F as i,N as a,v as o,y as s}from"./index-BcH8idzW.js";import{t as c}from"./EmptyState-TiN00nqa.js";import{t as l}from"./AttractionCard-DryxDo5x.js";import{t as u}from"./useAttractionsGrouped-C01p1VFW.js";import"./useFocusTrap-BHWrhixQ.js";import{t as d}from"./ConfirmModal-CTGnZV4G.js";var f=e(),p=t();function m({attractions:e,emptyTitle:t,emptyDescription:n,onToggleVisited:r,onDelete:i,onEdit:a}){let{displayAttractions:o,isAllDaysView:s,isReadyForTotals:d,getCountryTotalCouplePrice:f,getCountryTotalPriceBrl:m,getDayTotalCouplePrice:h,getDayTotalPriceBrl:g,sortedCountryEntries:_,COUNTRIES:v,formatDate:y,formatCurrency:b}=u(e);if(o.length===0)return(0,p.jsx)(c,{icon:`üó∫Ô∏è`,title:t,description:n});let x=0;return(0,p.jsx)(`div`,{className:`space-y-10`,children:_.map(([e,t])=>{let n=f(t),o=m(t);return(0,p.jsxs)(`section`,{className:`space-y-6`,children:[(0,p.jsxs)(`div`,{className:`flex items-center gap-3 flex-wrap`,children:[(0,p.jsxs)(`div`,{className:`flex items-center gap-2 px-4 py-2.5 rounded-xl bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 shadow-sm w-fit`,children:[(0,p.jsx)(`span`,{className:`text-xl`,"aria-hidden":!0,children:v[e]?.flag??`üåç`}),(0,p.jsx)(`h2`,{className:`text-base font-semibold text-gray-900 dark:text-gray-100`,children:v[e]?.name??e})]}),s&&d&&n&&(0,p.jsxs)(`div`,{className:`flex flex-col`,children:[(0,p.jsx)(`span`,{className:`text-md font-semibold text-emerald-700 dark:text-emerald-400`,children:n}),(0,p.jsxs)(`span`,{className:`text-sm font-medium text-gray-500 dark:text-gray-400`,children:[`(`,b(o),`)`]})]})]}),Object.entries(t).sort(([e],[t])=>Number(e)-Number(t)).map(([t,n])=>{let o=h(n),s=g(n);return(0,p.jsxs)(`section`,{children:[(0,p.jsxs)(`div`,{className:`flex items-center justify-between flex-wrap`,children:[(0,p.jsxs)(`div`,{className:`flex items-center gap-2 px-2 py-2 rounded-xl bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 shadow-sm mb-3 w-fit`,children:[(0,p.jsx)(`span`,{className:`text-lg`,"aria-hidden":!0,children:`üìÖ`}),(0,p.jsxs)(`h3`,{className:`text-base font-semibold text-gray-900 dark:text-gray-100`,children:[`Dia `,t]}),n[0]?.date&&(0,p.jsx)(`span`,{className:`text-sm text-gray-500 dark:text-gray-400`,children:y(n[0].date)}),(0,p.jsxs)(`span`,{className:`text-sm text-gray-500 dark:text-gray-400`,children:[`¬∑ `,n.length,` `,n.length===1?`atra√ß√£o`:`atra√ß√µes`]})]}),o&&(0,p.jsxs)(`div`,{className:`flex flex-col h-[58px]`,children:[(0,p.jsx)(`span`,{className:`text-md font-medium text-emerald-700 dark:text-emerald-400`,children:o}),(0,p.jsxs)(`span`,{className:`text-sm font-medium`,children:[`(`,b(s),`)`]})]})]}),(0,p.jsx)(`div`,{className:`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3`,children:n.map(e=>{let t=x<6;return x++,(0,p.jsx)(l,{attraction:e,priority:t,onCheckVisited:r,onDelete:i,onClick:()=>a?.(e)},e.id)})})]},`${e}-${t}`)})]},e)})})}var h=(0,f.lazy)(()=>n(()=>import(`./ModalAttraction-CqgTWcBr.js`),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16])).then(e=>({default:e.ModalAttraction}))),g=(0,f.lazy)(()=>n(()=>import(`./AttractionsGridWithDnD-CHScZqQ4.js`),__vite__mapDeps([17,1,2,3,4,5,6,7,8,9,18,19,20])).then(e=>({default:e.AttractionsGridWithDnD})));function _({attractions:e,isLoading:t,onUpdate:n,onCreate:c,onDelete:l,onToggleVisited:u,onBulkUpdate:_,isDragEnabled:v,onToggleDragEnabled:y}){let[b,x]=(0,f.useState)(!1),[S,C]=(0,f.useState)(),[w,T]=(0,f.useState)(null),[E,D]=(0,f.useState)(!1),O=v??E,k=y??D,A=async t=>{let r=o(e,t.country,t.date,S?.id),i=S&&S.country===t.country&&a(S.date)===a(t.date)?S?.order??1:s(e,t.country,t.date,S?.id),l={...t,day:r,order:i};S?await n({...l,id:S.id}):await c(l),x(!1),C(void 0)},j=async t=>{if(!_)return;let n=t.filter(t=>{let n=e.find(e=>e.id===t.id);return n&&(n.day!==t.day||n.order!==t.order)});n.length>0&&await _(n)},M=t=>{let n=e.find(e=>e.id===t);n&&T(n)},N=async()=>{w&&(await l(w.id),T(null))},P=(0,f.useMemo)(()=>new Set(e.map(e=>e.country??`outros`)).size,[e])>1,F=(0,f.useMemo)(()=>{if(!e.length)return 0;let t=0;for(let n of e)t+=Number(n.priceInBRL)||0;return t},[e]);return(0,p.jsxs)(`div`,{children:[(0,p.jsxs)(`div`,{className:`flex items-center justify-between gap-4 mb-5 flex-wrap`,children:[(0,p.jsxs)(`div`,{className:`flex items-center justify-between gap-4 flex-wrap w-full`,children:[(0,p.jsxs)(`div`,{className:`flex items-center gap-2 flex-wrap`,children:[(0,p.jsx)(`h2`,{className:`text-lg font-semibold text-gray-900 dark:text-gray-100`,children:`Todas as Atra√ß√µes`}),(0,p.jsxs)(`span`,{className:`text-sm text-gray-500 dark:text-gray-400 font-medium`,children:[e.length,` `,e.length===1?`item`:`itens`]})]}),P&&F&&(0,p.jsx)(`div`,{className:`flex flex-col text-right`,children:(0,p.jsx)(`span`,{className:`text-lg font-semibold text-emerald-700 dark:text-emerald-400`,children:i(F)})})]}),_&&y===void 0&&(0,p.jsxs)(`button`,{onClick:()=>k(!O),className:`flex items-center gap-2 px-4 py-2 rounded-xl text-sm font-medium transition-colors ${O?`bg-blue-600 text-white hover:bg-blue-700 shadow-sm`:`bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600`}`,title:O?`Desabilitar reordena√ß√£o`:`Habilitar reordena√ß√£o`,"aria-pressed":O,children:[(0,p.jsx)(r,{className:`w-4 h-4`}),O?`Reordena√ß√£o ativa`:`Reordenar`]})]}),t&&(0,p.jsxs)(`div`,{className:`space-y-6 animate-pulse`,"aria-hidden":!0,children:[(0,p.jsx)(`div`,{className:`h-8 bg-gray-200 dark:bg-gray-700 rounded-lg w-64`}),(0,p.jsx)(`div`,{className:`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3`,children:[1,2,3,4,5,6].map(e=>(0,p.jsx)(`div`,{className:`aspect-[3/2] rounded-2xl bg-gray-200 dark:bg-gray-700 min-h-[120px]`},e))})]}),!t&&(O&&_?(0,p.jsx)(f.Suspense,{fallback:(0,p.jsxs)(`div`,{className:`space-y-6 animate-pulse`,children:[(0,p.jsx)(`div`,{className:`h-10 bg-gray-200 dark:bg-gray-700 rounded-xl w-48`}),(0,p.jsx)(`div`,{className:`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3`,children:[1,2,3].map(e=>(0,p.jsx)(`div`,{className:`aspect-[3/2] rounded-2xl bg-gray-200 dark:bg-gray-700`},e))})]}),children:(0,p.jsx)(g,{attractions:e,onToggleVisited:u,onDelete:M,onEdit:e=>{C(e),x(!0)},emptyTitle:`Nenhuma atra√ß√£o encontrada`,emptyDescription:`Comece adicionando sua primeira atra√ß√£o!`,onReorder:j})}):(0,p.jsx)(m,{attractions:e,onToggleVisited:u,onDelete:M,onEdit:e=>{C(e),x(!0)},emptyTitle:`Nenhuma atra√ß√£o encontrada`,emptyDescription:`Comece adicionando sua primeira atra√ß√£o!`})),b&&(0,p.jsx)(f.Suspense,{fallback:null,children:(0,p.jsx)(h,{attraction:S,isOpen:b,onClose:()=>{x(!1),C(void 0)},onSave:A})}),(0,p.jsx)(d,{isOpen:!!w,onClose:()=>T(null),title:`Excluir atra√ß√£o`,message:w?(0,p.jsxs)(p.Fragment,{children:[`Tem certeza que deseja excluir "`,w.name,`"?`]}):null,onConfirm:N})]})}export{_ as default};