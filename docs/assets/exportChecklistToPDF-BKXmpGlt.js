import{s as e}from"./google-login-button-CK2bO50y.js";import"./router-DLfkpT9n.js";import"./typeof-_tCs8JoZ.js";import{t}from"./jspdf.es.min-ByXr749M.js";function n({items:n,title:r=`Checklist de Viagem`,includeNotes:i=!0}){let a=new t,o=a.internal.pageSize.getWidth(),s=a.internal.pageSize.getHeight(),c=20,l=e=>c+e>s-20?(a.addPage(),c=20,!0):!1;a.setFontSize(20),a.setFont(`helvetica`,`bold`),a.text(r,o/2,c,{align:`center`}),c+=15,a.setFontSize(10),a.setFont(`helvetica`,`normal`),a.setTextColor(100,100,100);let u=new Date().toLocaleDateString(`pt-BR`,{day:`2-digit`,month:`long`,year:`numeric`});a.text(`Gerado em: ${u}`,o/2,c,{align:`center`}),c+=10;let d=n.length,f=n.filter(e=>e.isPacked).length,p=d>0?Math.round(f/d*100):0;a.setFontSize(11),a.setTextColor(0,0,0),a.text(`Progresso: ${f}/${d} itens (${p}%)`,20,c),c+=10,a.setDrawColor(200,200,200),a.line(20,c,o-20,c),c+=10;let m=n.reduce((e,t)=>{let n=t.category;return e[n]||(e[n]=[]),e[n].push(t),e},{}),h=Object.entries(m).sort(([t],[n])=>{let r=e[t]?.label||t,i=e[n]?.label||n;return r.localeCompare(i,`pt-BR`)});h.forEach(([,e])=>{e.sort((e,t)=>e.description.localeCompare(t.description,`pt-BR`))}),h.forEach(([t,n])=>{let r=e[t],s=n.filter(e=>e.isPacked).length,u=n.length;l(28),a.setFillColor(59,130,246),a.circle(22,c-2,2,`F`),a.setFontSize(10),a.setFont(`helvetica`,`normal`),a.setTextColor(100,100,100);let d=`(${s}/${u})`;a.text(d,27,c);let f=a.getTextWidth(d);a.setFontSize(14),a.setFont(`helvetica`,`bold`),a.setTextColor(0,0,0);let p=r.label;a.text(p,27+f+3,c),c+=9,n.forEach(e=>{l(i&&e.notes?7*2.5:7*1.5);let t=c-3;a.setDrawColor(100,100,100),a.setLineWidth(.3),a.rect(22,t,3,3),e.isPacked&&(a.setDrawColor(34,197,94),a.setLineWidth(.5),a.line(22.5,t+1.5,23.2,t+2.5),a.line(23.2,t+2.5,24.5,t+.5)),a.setFontSize(10),a.setFont(`helvetica`,(e.isPacked,`normal`)),a.setTextColor(e.isPacked?150:0,e.isPacked?150:0,e.isPacked?150:0);let n=e.description;if(e.quantity&&e.quantity>1&&(n+=` (x${e.quantity})`),a.text(n,28,c),c+=7,i&&e.notes){a.setFontSize(8),a.setTextColor(120,120,120);let t=a.splitTextToSize(`Observações: ${e.notes}`,o-40-10);a.text(t,28,c),c+=t.length*5}c+=2}),c+=5});let g=s-15;a.setFontSize(8),a.setTextColor(150,150,150),a.text(`Trip Planner - Checklist de Viagem`,o/2,g,{align:`center`});let _=`checklist-${new Date().toISOString().split(`T`)[0]}.pdf`;a.save(_)}export{n as exportChecklistToPDF};