import{C as e,S as t}from"./google-login-button-CK2bO50y.js";import"./react-vendor-B0_zmQzX.js";import"./router-BQVnTVu0.js";import"./react-query-BB-sDLdC.js";import{L as n,Q as r,f as i}from"./ui-icons-BBIUuva6.js";import{A as a,F as o,L as s,M as c,m as l,q as u}from"./index-C11sPK8M.js";import{t as d}from"./useCurrency-DKKF9dVB.js";import{t as f}from"./PageHeader-B7IsHVIM.js";var p=e(),m=t();function h({message:e=`Não foi possível carregar os dados. Verifique sua conexão.`,onRetry:t,title:n=`Erro ao carregar`}){return(0,m.jsxs)(`div`,{className:`flex flex-col items-center justify-center p-8 text-center bg-slate-50 dark:bg-slate-900 min-h-[280px] rounded-2xl border border-slate-200 dark:border-slate-700`,role:`alert`,"aria-live":`polite`,children:[(0,m.jsx)(`div`,{className:`inline-flex items-center justify-center w-14 h-14 rounded-full bg-amber-100 dark:bg-amber-900/30 text-amber-600 dark:text-amber-400 mb-4`,children:(0,m.jsx)(r,{className:`w-7 h-7`,"aria-hidden":!0})}),(0,m.jsx)(`h2`,{className:`text-lg font-semibold text-slate-800 dark:text-slate-100 mb-2`,children:n}),(0,m.jsx)(`p`,{className:`text-slate-600 dark:text-slate-400 text-sm mb-6 max-w-sm`,children:e}),t&&(0,m.jsxs)(`button`,{type:`button`,onClick:t,className:`inline-flex items-center gap-2 px-4 py-2.5 rounded-xl bg-slate-800 dark:bg-slate-700 text-white font-medium hover:bg-slate-700 dark:hover:bg-slate-600 transition-colors focus:outline-none focus:ring-2 focus:ring-slate-500 focus:ring-offset-2 dark:focus:ring-offset-slate-900`,children:[(0,m.jsx)(i,{className:`w-4 h-4`,"aria-hidden":!0}),`Tentar novamente`]})]})}var g=[{label:`¥ Iene (JPY)`,value:`JPY`},{label:`₩ Won (KRW)`,value:`KRW`},{label:`R$ Real (BRL)`,value:`BRL`}];function _(){let{rates:e,isLoading:t,error:r}=d(),[i,_]=(0,p.useState)(``),[v,y]=(0,p.useState)(`JPY`),[b,x]=(0,p.useState)(`BRL`),S=(0,p.useRef)(v),C=(0,p.useMemo)(()=>c(i,v),[i,v]),w=(0,p.useMemo)(()=>!e||C<=0?null:a(C,v,b,e),[C,v,b,e]),T=e=>{_(s(e,v))};return(0,p.useEffect)(()=>{if(S.current===v)return;let t=S.current;S.current=v;let n=c(i,t);if(n<=0||!e)return;let r=a(n,t,v,e);_(s(v===`BRL`?String(Math.round(r*100)):String(Math.round(r)),v))},[v,e]),r?(0,m.jsxs)(`div`,{className:`min-h-screen bg-gray-50 dark:bg-gray-900 pb-20 md:pb-6`,children:[(0,m.jsx)(f,{title:`Conversor`,subtitle:`Converta entre JPY, KRW e BRL`}),(0,m.jsx)(`main`,{className:`max-w-6xl mx-auto px-4 md:px-6 py-6`,children:(0,m.jsx)(h,{message:`Não foi possível carregar as taxas de câmbio.`,onRetry:()=>window.location.reload()})})]}):(0,m.jsxs)(`div`,{className:`min-h-screen bg-gray-50 dark:bg-gray-900 pb-20 md:pb-6`,children:[(0,m.jsx)(f,{title:`Conversor`,subtitle:`Converta entre iene, won e real de forma rápida`}),(0,m.jsx)(`main`,{className:`max-w-6xl mx-auto px-4 md:px-6 py-6`,children:(0,m.jsxs)(`div`,{className:`max-w-md mx-auto space-y-6`,children:[(0,m.jsxs)(`div`,{children:[(0,m.jsx)(`label`,{htmlFor:`converter-amount`,className:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5`,children:`Valor`}),(0,m.jsx)(`input`,{id:`converter-amount`,type:`text`,inputMode:`decimal`,autoComplete:`off`,value:i,onChange:e=>T(e.target.value),placeholder:v===`BRL`?`R$ 0,00`:v===`JPY`?`¥ 0`:`₩ 0`,className:`w-full px-4 py-3 text-lg border border-gray-300 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700 focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none placeholder:text-gray-400 dark:placeholder:text-gray-500 text-gray-900 dark:text-gray-100`})]}),(0,m.jsxs)(`div`,{className:`grid grid-cols-[1fr_auto_1fr] gap-2 items-end`,children:[(0,m.jsxs)(`div`,{children:[(0,m.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5`,children:`De`}),(0,m.jsx)(l,{id:`converter-from`,value:g.find(e=>e.value===v)?.label??``,onChange:e=>{let t=g.find(t=>t.label===e);t&&y(t.value)},options:g.map(e=>e.label),placeholder:`Moeda`})]}),(0,m.jsx)(`button`,{type:`button`,onClick:()=>{if(v===b)return;let e=b,t=v;w!==null&&C>0&&_(s(e===`BRL`?String(Math.round(w*100)):String(Math.round(w)),e)),S.current=e,y(e),x(t)},disabled:v===b,"aria-label":`Trocar moedas (de e para)`,className:u(`p-2.5 rounded-xl border border-gray-300 dark:border-gray-600`,`bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300`,`hover:bg-gray-50 dark:hover:bg-gray-600 focus:ring-2 focus:ring-blue-500 focus:outline-none`,`disabled:opacity-50 disabled:pointer-events-none transition-colors`),children:(0,m.jsx)(n,{className:`w-5 h-5`})}),(0,m.jsxs)(`div`,{children:[(0,m.jsx)(`label`,{className:`block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5`,children:`Para`}),(0,m.jsx)(l,{id:`converter-to`,value:g.find(e=>e.value===b)?.label??``,onChange:e=>{let t=g.find(t=>t.label===e);t&&x(t.value)},options:g.map(e=>e.label),placeholder:`Moeda`})]})]}),(0,m.jsx)(`div`,{className:`rounded-2xl bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 p-6 shadow-sm`,"aria-live":`polite`,children:t?(0,m.jsx)(`p`,{className:`text-gray-500 dark:text-gray-400 text-center`,children:`Carregando taxas...`}):w!==null&&C>0?(0,m.jsxs)(`div`,{className:`text-center space-y-1`,children:[(0,m.jsxs)(`p`,{className:`text-sm text-gray-600 dark:text-gray-400`,children:[o(C,v),` =`]}),(0,m.jsx)(`p`,{className:`text-2xl font-bold text-gray-900 dark:text-white`,children:o(w,b)})]}):(0,m.jsx)(`p`,{className:`text-gray-500 dark:text-gray-400 text-center`,children:`Digite um valor para ver a conversão`})})]})})]})}export{_ as default};