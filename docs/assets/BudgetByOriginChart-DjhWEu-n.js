import{C as e,S as t}from"./google-login-button-CK2bO50y.js";import{F as n}from"./index-BcH8idzW.js";var r=e(),i=t(),a={budget:`#3B82F6`,spent:`#EF4444`},o={top:24,right:16,bottom:40,left:44},s=400,c=220,l=s-o.left-o.right,u=c-o.top-o.bottom,d=8,f=24;function p(e){return e>=1e6?`R$${e/1e6}M`:e>=1e3?`R$${e/1e3}k`:`R$${e}`}function m({data:e}){let[t,m]=(0,r.useState)(null),[h,g]=(0,r.useState)({x:0,y:0}),{maxVal:_,yTicks:v}=(0,r.useMemo)(()=>{let t=e.length?Math.max(...e.flatMap(e=>[e.totalBudget,e.spent]),1):1,n=t<=4?1:Math.ceil(t/4),r=[0];for(let e=n;e<=t;e+=n)r.push(e);return{maxVal:t,yTicks:r}},[e]),y=l/e.length,b=e=>u-e/_*u,x=(e,t,n)=>{m({index:t,key:n});let r=e.currentTarget.closest(`.chart-container`)?.getBoundingClientRect();r&&g({x:e.clientX-r.left,y:e.clientY-r.top})};return(0,i.jsxs)(`div`,{className:`bg-white dark:bg-gray-800 p-6 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 hover:shadow-md transition-shadow duration-300`,children:[(0,i.jsxs)(`h2`,{className:`text-gray-700 dark:text-gray-200 font-bold text-lg mb-6 flex items-center gap-2`,children:[(0,i.jsx)(`span`,{className:`p-2 bg-blue-100 dark:bg-blue-900/50 text-blue-600 dark:text-blue-400 rounded-lg text-sm`,children:`üí≥`}),`Or√ßamento vs. Realizado`]}),(0,i.jsxs)(`div`,{className:`chart-container w-full relative`,style:{height:c},children:[(0,i.jsx)(`svg`,{viewBox:`0 0 ${s} ${c}`,className:`w-full h-full`,preserveAspectRatio:`xMidYMid meet`,"aria-label":`Gr√°fico or√ßamento por origem`,children:(0,i.jsxs)(`g`,{transform:`translate(${o.left},${o.top})`,children:[v.map(e=>(0,i.jsxs)(`g`,{children:[(0,i.jsx)(`line`,{x1:0,y1:b(e),x2:l,y2:b(e),stroke:`#E5E7EB`,strokeDasharray:`3 3`,strokeWidth:1}),(0,i.jsx)(`text`,{x:-6,y:b(e),textAnchor:`end`,dominantBaseline:`middle`,className:`text-[10px] fill-gray-500 dark:fill-gray-400`,children:p(e)})]},e)),e.map((e,n)=>{let r=n*y+(y-d-f*2)/2,o=e.totalBudget/_*u,s=e.spent/_*u,c=t?.index===n&&t?.key===`totalBudget`,l=t?.index===n&&t?.key===`spent`;return(0,i.jsxs)(`g`,{children:[(0,i.jsx)(`rect`,{x:r,y:b(e.totalBudget),width:f,height:Math.max(o,2),rx:4,fill:a.budget,className:`cursor-pointer transition-opacity`,opacity:c?.9:1,onMouseEnter:e=>x(e,n,`totalBudget`),onMouseMove:e=>x(e,n,`totalBudget`),onMouseLeave:()=>m(null)}),(0,i.jsx)(`rect`,{x:r+f+d,y:b(e.spent),width:f,height:Math.max(s,2),rx:4,fill:a.spent,className:`cursor-pointer transition-opacity`,opacity:l?.9:1,onMouseEnter:e=>x(e,n,`spent`),onMouseMove:e=>x(e,n,`spent`),onMouseLeave:()=>m(null)}),(0,i.jsx)(`text`,{x:r+(d+f*2)/2+f/2,y:u+14,textAnchor:`middle`,className:`text-[10px] fill-gray-600 dark:fill-gray-400`,children:e.origin})]},e.origin)})]})}),t!==null&&e[t.index]&&(0,i.jsx)(`div`,{className:`pointer-events-none absolute z-10 px-3 py-2 text-sm font-medium text-gray-900 bg-white dark:bg-gray-700 dark:text-gray-100 rounded-lg shadow-md border border-gray-200 dark:border-gray-600`,style:{left:h.x+12,top:h.y+8},children:t.key===`totalBudget`?`Or√ßado: ${n(e[t.index].totalBudget)}`:`Gasto: ${n(e[t.index].spent)}`}),(0,i.jsxs)(`div`,{className:`flex justify-end gap-4 mt-1 text-xs text-gray-600 dark:text-gray-400`,children:[(0,i.jsxs)(`span`,{className:`flex items-center gap-1.5`,children:[(0,i.jsx)(`span`,{className:`w-2.5 h-2.5 rounded-full bg-[#3B82F6]`,"aria-hidden":!0}),` Or√ßado`]}),(0,i.jsxs)(`span`,{className:`flex items-center gap-1.5`,children:[(0,i.jsx)(`span`,{className:`w-2.5 h-2.5 rounded-full bg-[#EF4444]`,"aria-hidden":!0}),` Gasto`]})]})]})]})}export{m as default};