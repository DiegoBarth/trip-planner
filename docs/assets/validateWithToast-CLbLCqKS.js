import{i as e}from"./rolldown-runtime-CWU8vmCm.js";import{C as t,S as n}from"./google-login-button-CK2bO50y.js";import{Z as r}from"./ui-icons-BBIUuva6.js";import{q as i}from"./index-C11sPK8M.js";import{t as a}from"./useFocusTrap-BHWrhixQ.js";var o=e(t(),1),s=e=>e.type===`checkbox`,c=e=>e instanceof Date,l=e=>e==null,u=e=>typeof e==`object`,d=e=>!l(e)&&!Array.isArray(e)&&u(e)&&!c(e),f=e=>d(e)&&e.target?s(e.target)?e.target.checked:e.target.value:e,p=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,m=(e,t)=>e.has(p(t)),h=e=>{let t=e.constructor&&e.constructor.prototype;return d(t)&&t.hasOwnProperty(`isPrototypeOf`)},g=typeof window<`u`&&window.HTMLElement!==void 0&&typeof document<`u`;function _(e){if(e instanceof Date)return new Date(e);let t=typeof FileList<`u`&&e instanceof FileList;if(g&&(e instanceof Blob||t))return e;let n=Array.isArray(e);if(!n&&!(d(e)&&h(e)))return e;let r=n?[]:Object.create(Object.getPrototypeOf(e));for(let t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=_(e[t]));return r}var v=e=>/^\w*$/.test(e),y=e=>e===void 0,b=e=>Array.isArray(e)?e.filter(Boolean):[],x=e=>b(e.replace(/["|']|\]/g,``).split(/\.|\[/)),S=(e,t,n)=>{if(!t||!d(e))return n;let r=(v(t)?[t]:x(t)).reduce((e,t)=>l(e)?e:e[t],e);return y(r)||r===e?y(e[t])?n:e[t]:r},C=e=>typeof e==`boolean`,w=e=>typeof e==`function`,T=(e,t,n)=>{let r=-1,i=v(t)?[t]:x(t),a=i.length,o=a-1;for(;++r<a;){let t=i[r],a=n;if(r!==o){let n=e[t];a=d(n)||Array.isArray(n)?n:isNaN(+i[r+1])?{}:[]}if(t===`__proto__`||t===`constructor`||t===`prototype`)return;e[t]=a,e=e[t]}},E={BLUR:`blur`,FOCUS_OUT:`focusout`,CHANGE:`change`},D={onBlur:`onBlur`,onChange:`onChange`,onSubmit:`onSubmit`,onTouched:`onTouched`,all:`all`},O={max:`max`,min:`min`,maxLength:`maxLength`,minLength:`minLength`,pattern:`pattern`,required:`required`,validate:`validate`},k=o.createContext(null);k.displayName=`HookFormControlContext`;var A=()=>o.useContext(k),j=(e,t,n,r=!0)=>{let i={defaultValues:t._defaultValues};for(let a in e)Object.defineProperty(i,a,{get:()=>{let i=a;return t._proxyFormState[i]!==D.all&&(t._proxyFormState[i]=!r||D.all),n&&(n[i]=!0),e[i]}});return i},M=typeof window<`u`?o.useLayoutEffect:o.useEffect;function N(e){let t=A(),{control:n=t,disabled:r,name:i,exact:a}=e||{},[s,c]=o.useState(n._formState),l=o.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return M(()=>n._subscribe({name:i,formState:l.current,exact:a,callback:e=>{!r&&c({...n._formState,...e})}}),[i,r,a]),o.useEffect(()=>{l.current.isValid&&n._setValid(!0)},[n]),o.useMemo(()=>j(s,n,l.current,!1),[s,n])}var P=e=>typeof e==`string`,F=(e,t,n,r,i)=>P(e)?(r&&t.watch.add(e),S(n,e,i)):Array.isArray(e)?e.map(e=>(r&&t.watch.add(e),S(n,e))):(r&&(t.watchAll=!0),n),I=e=>l(e)||!u(e);function L(e,t,n=new WeakSet){if(I(e)||I(t))return Object.is(e,t);if(c(e)&&c(t))return Object.is(e.getTime(),t.getTime());let r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;if(n.has(e)||n.has(t))return!0;n.add(e),n.add(t);for(let a of r){let r=e[a];if(!i.includes(a))return!1;if(a!==`ref`){let e=t[a];if(c(r)&&c(e)||d(r)&&d(e)||Array.isArray(r)&&Array.isArray(e)?!L(r,e,n):!Object.is(r,e))return!1}}return!0}function ee(e){let t=A(),{control:n=t,name:r,defaultValue:i,disabled:a,exact:s,compute:c}=e||{},l=o.useRef(i),u=o.useRef(c),d=o.useRef(void 0),f=o.useRef(n),p=o.useRef(r);u.current=c;let[m,h]=o.useState(()=>{let e=n._getWatch(r,l.current);return u.current?u.current(e):e}),g=o.useCallback(e=>{let t=F(r,n._names,e||n._formValues,!1,l.current);return u.current?u.current(t):t},[n._formValues,n._names,r]),_=o.useCallback(e=>{if(!a){let t=F(r,n._names,e||n._formValues,!1,l.current);if(u.current){let e=u.current(t);L(e,d.current)||(h(e),d.current=e)}else h(t)}},[n._formValues,n._names,a,r]);M(()=>((f.current!==n||!L(p.current,r))&&(f.current=n,p.current=r,_()),n._subscribe({name:r,formState:{values:!0},exact:s,callback:e=>{_(e.values)}})),[n,s,r,_]),o.useEffect(()=>n._removeUnmounted());let v=f.current!==n,y=p.current,b=o.useMemo(()=>{if(a)return null;let e=!v&&!L(y,r);return v||e?g():null},[a,v,r,y,g]);return b===null?m:b}function te(e){let t=A(),{name:n,disabled:r,control:i=t,shouldUnregister:a,defaultValue:s,exact:c=!0}=e,l=m(i._names.array,n),u=ee({control:i,name:n,defaultValue:o.useMemo(()=>S(i._formValues,n,S(i._defaultValues,n,s)),[i,n,s]),exact:c}),d=N({control:i,name:n,exact:c}),p=o.useRef(e),h=o.useRef(void 0),g=o.useRef(i.register(n,{...e.rules,value:u,...C(e.disabled)?{disabled:e.disabled}:{}}));p.current=e;let v=o.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!S(d.errors,n)},isDirty:{enumerable:!0,get:()=>!!S(d.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!S(d.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!S(d.validatingFields,n)},error:{enumerable:!0,get:()=>S(d.errors,n)}}),[d,n]),b=o.useCallback(e=>g.current.onChange({target:{value:f(e),name:n},type:E.CHANGE}),[n]),x=o.useCallback(()=>g.current.onBlur({target:{value:S(i._formValues,n),name:n},type:E.BLUR}),[n,i._formValues]),D=o.useCallback(e=>{let t=S(i._fields,n);t&&t._f&&e&&(t._f.ref={focus:()=>w(e.focus)&&e.focus(),select:()=>w(e.select)&&e.select(),setCustomValidity:t=>w(e.setCustomValidity)&&e.setCustomValidity(t),reportValidity:()=>w(e.reportValidity)&&e.reportValidity()})},[i._fields,n]),O=o.useMemo(()=>({name:n,value:u,...C(r)||d.disabled?{disabled:d.disabled||r}:{},onChange:b,onBlur:x,ref:D}),[n,r,d.disabled,b,x,D,u]);return o.useEffect(()=>{let e=i._options.shouldUnregister||a,t=h.current;t&&t!==n&&!l&&i.unregister(t),i.register(n,{...p.current.rules,...C(p.current.disabled)?{disabled:p.current.disabled}:{}});let r=(e,t)=>{let n=S(i._fields,e);n&&n._f&&(n._f.mount=t)};if(r(n,!0),e){let e=_(S(i._options.defaultValues,n,p.current.defaultValue));T(i._defaultValues,n,e),y(S(i._formValues,n))&&T(i._formValues,n,e)}return!l&&i.register(n),h.current=n,()=>{(l?e&&!i._state.action:e)?i.unregister(n):r(n,!1)}},[n,i,l,a]),o.useEffect(()=>{i._setDisabledField({disabled:r,name:n})},[r,n,i]),o.useMemo(()=>({field:O,formState:d,fieldState:v}),[O,d,v])}var ne=e=>e.render(te(e)),re=o.createContext(null);re.displayName=`HookFormContext`;var ie=(e,t,n,r,i)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:i||!0}}:{},R=e=>Array.isArray(e)?e:[e],ae=()=>{let e=[];return{get observers(){return e},next:t=>{for(let n of e)n.next&&n.next(t)},subscribe:t=>(e.push(t),{unsubscribe:()=>{e=e.filter(e=>e!==t)}}),unsubscribe:()=>{e=[]}}};function oe(e,t){let n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r],a=t[r];if(i&&d(i)&&a){let e=oe(i,a);d(e)&&(n[r]=e)}else e[r]&&(n[r]=a)}return n}var z=e=>d(e)&&!Object.keys(e).length,se=e=>e.type===`file`,ce=e=>{if(!g)return!1;let t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},le=e=>e.type===`select-multiple`,B=e=>e.type===`radio`,ue=e=>B(e)||s(e),de=e=>ce(e)&&e.isConnected;function fe(e,t){let n=t.slice(0,-1).length,r=0;for(;r<n;)e=y(e)?r++:e[t[r++]];return e}function V(e){for(let t in e)if(e.hasOwnProperty(t)&&!y(e[t]))return!1;return!0}function H(e,t){let n=Array.isArray(t)?t:v(t)?[t]:x(t),r=n.length===1?e:fe(e,n),i=n.length-1,a=n[i];return r&&delete r[a],i!==0&&(d(r)&&z(r)||Array.isArray(r)&&V(r))&&H(e,n.slice(0,-1)),e}var pe=e=>{for(let t in e)if(w(e[t]))return!0;return!1};function U(e){return Array.isArray(e)||d(e)&&!pe(e)}function W(e,t={}){for(let n in e){let r=e[n];U(r)?(t[n]=Array.isArray(r)?[]:{},W(r,t[n])):y(r)||(t[n]=!0)}return t}function G(e,t,n){for(let r in n||=W(t),e){let i=e[r];if(U(i))y(t)||I(n[r])?n[r]=W(i,Array.isArray(i)?[]:{}):G(i,l(t)?{}:t[r],n[r]);else{let e=t[r];n[r]=!L(i,e)}}return n}var me={value:!1,isValid:!1},K={value:!0,isValid:!0},he=e=>{if(Array.isArray(e)){if(e.length>1){let t=e.filter(e=>e&&e.checked&&!e.disabled).map(e=>e.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!y(e[0].attributes.value)?y(e[0].value)||e[0].value===``?K:{value:e[0].value,isValid:!0}:K:me}return me},ge=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>y(e)?e:t?e===``?NaN:e&&+e:n&&P(e)?new Date(e):r?r(e):e,q={isValid:!1,value:null},_e=e=>Array.isArray(e)?e.reduce((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e,q):q;function ve(e){let t=e.ref;return se(t)?t.files:B(t)?_e(e.refs).value:le(t)?[...t.selectedOptions].map(({value:e})=>e):s(t)?he(e.refs).value:ge(y(t.value)?e.ref.value:t.value,e)}var ye=(e,t,n,r)=>{let i={};for(let n of e){let e=S(t,n);e&&T(i,n,e._f)}return{criteriaMode:n,names:[...e],fields:i,shouldUseNativeValidation:r}},J=e=>e instanceof RegExp,Y=e=>y(e)?e:J(e)?e.source:d(e)?J(e.value)?e.value.source:e.value:e,be=e=>({isOnSubmit:!e||e===D.onSubmit,isOnBlur:e===D.onBlur,isOnChange:e===D.onChange,isOnAll:e===D.all,isOnTouch:e===D.onTouched}),X=`AsyncFunction`,xe=e=>!!e&&!!e.validate&&!!(w(e.validate)&&e.validate.constructor.name===X||d(e.validate)&&Object.values(e.validate).find(e=>e.constructor.name===X)),Se=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),Ce=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(t=>e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length)))),Z=(e,t,n,r)=>{for(let i of n||Object.keys(e)){let n=S(e,i);if(n){let{_f:e,...a}=n;if(e){if(e.refs&&e.refs[0]&&t(e.refs[0],i)&&!r||e.ref&&t(e.ref,e.name)&&!r)return!0;if(Z(a,t))break}else if(d(a)&&Z(a,t))break}}};function we(e,t,n){let r=S(e,n);if(r||v(n))return{error:r,name:n};let i=n.split(`.`);for(;i.length;){let r=i.join(`.`),a=S(t,r),o=S(e,r);if(a&&!Array.isArray(a)&&n!==r)return{name:n};if(o&&o.type)return{name:r,error:o};if(o&&o.root&&o.root.type)return{name:`${r}.root`,error:o.root};i.pop()}return{name:n}}var Te=(e,t,n,r)=>{n(e);let{name:i,...a}=e;return z(a)||Object.keys(a).length>=Object.keys(t).length||Object.keys(a).find(e=>t[e]===(!r||D.all))},Ee=(e,t,n)=>!e||!t||e===t||R(e).some(e=>e&&(n?e===t:e.startsWith(t)||t.startsWith(e))),De=(e,t,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(t||e):(n?r.isOnBlur:i.isOnBlur)?!e:(n?r.isOnChange:i.isOnChange)?e:!0,Oe=(e,t)=>!b(S(e,t)).length&&H(e,t),ke=(e,t,n)=>{let r=R(S(e,n));return T(r,`root`,t[n]),T(e,n,r),e};function Ae(e,t,n=`validate`){if(P(e)||Array.isArray(e)&&e.every(P)||C(e)&&!e)return{type:n,message:P(e)?e:``,ref:t}}var Q=e=>d(e)&&!J(e)?e:{value:e,message:``},je=async(e,t,n,r,i,a)=>{let{ref:o,refs:c,required:u,maxLength:f,minLength:p,min:m,max:h,pattern:g,validate:_,name:v,valueAsNumber:b,mount:x}=e._f,T=S(n,v);if(!x||t.has(v))return{};let E=c?c[0]:o,D=e=>{i&&E.reportValidity&&(E.setCustomValidity(C(e)?``:e||``),E.reportValidity())},k={},A=B(o),j=s(o),M=A||j,N=(b||se(o))&&y(o.value)&&y(T)||ce(o)&&o.value===``||T===``||Array.isArray(T)&&!T.length,F=ie.bind(null,v,r,k),I=(e,t,n,r=O.maxLength,i=O.minLength)=>{let a=e?t:n;k[v]={type:e?r:i,message:a,ref:o,...F(e?r:i,a)}};if(a?!Array.isArray(T)||!T.length:u&&(!M&&(N||l(T))||C(T)&&!T||j&&!he(c).isValid||A&&!_e(c).isValid)){let{value:e,message:t}=P(u)?{value:!!u,message:u}:Q(u);if(e&&(k[v]={type:O.required,message:t,ref:E,...F(O.required,t)},!r))return D(t),k}if(!N&&(!l(m)||!l(h))){let e,t,n=Q(h),i=Q(m);if(!l(T)&&!isNaN(T)){let r=o.valueAsNumber||T&&+T;l(n.value)||(e=r>n.value),l(i.value)||(t=r<i.value)}else{let r=o.valueAsDate||new Date(T),a=e=>new Date(new Date().toDateString()+` `+e),s=o.type==`time`,c=o.type==`week`;P(n.value)&&T&&(e=s?a(T)>a(n.value):c?T>n.value:r>new Date(n.value)),P(i.value)&&T&&(t=s?a(T)<a(i.value):c?T<i.value:r<new Date(i.value))}if((e||t)&&(I(!!e,n.message,i.message,O.max,O.min),!r))return D(k[v].message),k}if((f||p)&&!N&&(P(T)||a&&Array.isArray(T))){let e=Q(f),t=Q(p),n=!l(e.value)&&T.length>+e.value,i=!l(t.value)&&T.length<+t.value;if((n||i)&&(I(n,e.message,t.message),!r))return D(k[v].message),k}if(g&&!N&&P(T)){let{value:e,message:t}=Q(g);if(J(e)&&!T.match(e)&&(k[v]={type:O.pattern,message:t,ref:o,...F(O.pattern,t)},!r))return D(t),k}if(_){if(w(_)){let e=Ae(await _(T,n),E);if(e&&(k[v]={...e,...F(O.validate,e.message)},!r))return D(e.message),k}else if(d(_)){let e={};for(let t in _){if(!z(e)&&!r)break;let i=Ae(await _[t](T,n),E,t);i&&(e={...i,...F(t,i.message)},D(i.message),r&&(k[v]=e))}if(!z(e)&&(k[v]={ref:E,...e},!r))return k}}return D(!0),k},Me={mode:D.onSubmit,reValidateMode:D.onChange,shouldFocusError:!0};function Ne(e={}){let t={...Me,...e},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:w(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},r={},i=(d(t.defaultValues)||d(t.values))&&_(t.defaultValues||t.values)||{},a=t.shouldUnregister?{}:_(i),o={action:!1,mount:!1,watch:!1,keepIsValid:!1},u={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},p,h=0,v={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},x={...v},O={...x},k={array:ae(),state:ae()},A=t.criteriaMode===D.all,j=e=>t=>{clearTimeout(h),h=setTimeout(e,t)},M=async e=>{if(!o.keepIsValid&&!t.disabled&&(x.isValid||O.isValid||e)){let e;t.resolver?(e=z((await B()).errors),N()):e=await V(r,!0),e!==n.isValid&&k.state.next({isValid:e})}},N=(e,r)=>{!t.disabled&&(x.isValidating||x.validatingFields||O.isValidating||O.validatingFields)&&((e||Array.from(u.mount)).forEach(e=>{e&&(r?T(n.validatingFields,e,r):H(n.validatingFields,e))}),k.state.next({validatingFields:n.validatingFields,isValidating:!z(n.validatingFields)}))},I=(e,s=[],c,l,u=!0,d=!0)=>{if(l&&c&&!t.disabled){if(o.action=!0,d&&Array.isArray(S(r,e))){let t=c(S(r,e),l.argA,l.argB);u&&T(r,e,t)}if(d&&Array.isArray(S(n.errors,e))){let t=c(S(n.errors,e),l.argA,l.argB);u&&T(n.errors,e,t),Oe(n.errors,e)}if((x.touchedFields||O.touchedFields)&&d&&Array.isArray(S(n.touchedFields,e))){let t=c(S(n.touchedFields,e),l.argA,l.argB);u&&T(n.touchedFields,e,t)}(x.dirtyFields||O.dirtyFields)&&(n.dirtyFields=G(i,a)),k.state.next({name:e,isDirty:U(e,s),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else T(a,e,s)},ee=(e,t)=>{T(n.errors,e,t),k.state.next({errors:n.errors})},te=e=>{n.errors=e,k.state.next({errors:n.errors,isValid:!1})},ne=(e,t,n,s)=>{let c=S(r,e);if(c){let r=S(a,e,y(n)?S(i,e):n);y(r)||s&&s.defaultChecked||t?T(a,e,t?r:ve(c._f)):K(e,r),o.mount&&!o.action&&M()}},re=(e,r,a,o,s)=>{let c=!1,l=!1,u={name:e};if(!t.disabled){if(!a||o){(x.isDirty||O.isDirty)&&(l=n.isDirty,n.isDirty=u.isDirty=U(),c=l!==u.isDirty);let t=L(S(i,e),r);l=!!S(n.dirtyFields,e),t?H(n.dirtyFields,e):T(n.dirtyFields,e,!0),u.dirtyFields=n.dirtyFields,c||=(x.dirtyFields||O.dirtyFields)&&l!==!t}if(a){let t=S(n.touchedFields,e);t||(T(n.touchedFields,e,a),u.touchedFields=n.touchedFields,c||=(x.touchedFields||O.touchedFields)&&t!==a)}c&&s&&k.state.next(u)}return c?u:{}},ie=(e,r,i,a)=>{let o=S(n.errors,e),s=(x.isValid||O.isValid)&&C(r)&&n.isValid!==r;if(t.delayError&&i?(p=j(()=>ee(e,i)),p(t.delayError)):(clearTimeout(h),p=null,i?T(n.errors,e,i):H(n.errors,e)),(i?!L(o,i):o)||!z(a)||s){let t={...a,...s&&C(r)?{isValid:r}:{},errors:n.errors,name:e};n={...n,...t},k.state.next(t)}},B=async e=>(N(e,!0),await t.resolver(a,t.context,ye(e||u.mount,r,t.criteriaMode,t.shouldUseNativeValidation))),fe=async e=>{let{errors:t}=await B(e);if(N(e),e)for(let r of e){let e=S(t,r);e?T(n.errors,r,e):H(n.errors,r)}else n.errors=t;return t},V=async(r,i,o={valid:!0})=>{for(let s in r){let c=r[s];if(c){let{_f:r,...s}=c;if(r){let s=u.array.has(r.name),l=c._f&&xe(c._f);l&&x.validatingFields&&N([r.name],!0);let d=await je(c,u.disabled,a,A,t.shouldUseNativeValidation&&!i,s);if(l&&x.validatingFields&&N([r.name]),d[r.name]&&(o.valid=!1,i||e.shouldUseNativeValidation))break;!i&&(S(d,r.name)?s?ke(n.errors,d,r.name):T(n.errors,r.name,d[r.name]):H(n.errors,r.name))}!z(s)&&await V(s,i,o)}}return o.valid},pe=()=>{for(let e of u.unMount){let t=S(r,e);t&&(t._f.refs?t._f.refs.every(e=>!de(e)):!de(t._f.ref))&&Le(e)}u.unMount=new Set},U=(e,n)=>!t.disabled&&(e&&n&&T(a,e,n),!L(Ae(),i)),W=(e,t,n)=>F(e,u,{...o.mount?a:y(t)?i:P(e)?{[e]:t}:t},n,t),me=e=>b(S(o.mount?a:i,e,t.shouldUnregister?S(i,e,[]):[])),K=(e,t,n={})=>{let i=S(r,e),o=t;if(i){let n=i._f;n&&(!n.disabled&&T(a,e,ge(t,n)),o=ce(n.ref)&&l(t)?``:t,le(n.ref)?[...n.ref.options].forEach(e=>e.selected=o.includes(e.value)):n.refs?s(n.ref)?n.refs.forEach(e=>{(!e.defaultChecked||!e.disabled)&&(Array.isArray(o)?e.checked=!!o.find(t=>t===e.value):e.checked=o===e.value||!!o)}):n.refs.forEach(e=>e.checked=e.value===o):se(n.ref)?n.ref.value=``:(n.ref.value=o,n.ref.type||k.state.next({name:e,values:_(a)})))}(n.shouldDirty||n.shouldTouch)&&re(e,o,n.shouldTouch,n.shouldDirty,!0),n.shouldValidate&&X(e)},he=(e,t,n)=>{for(let i in t){if(!t.hasOwnProperty(i))return;let a=t[i],o=e+`.`+i,s=S(r,o);(u.array.has(e)||d(a)||s&&!s._f)&&!c(a)?he(o,a,n):K(o,a,n)}},q=(e,t,s={})=>{let c=S(r,e),d=u.array.has(e),f=_(t);T(a,e,f),d?(k.array.next({name:e,values:_(a)}),(x.isDirty||x.dirtyFields||O.isDirty||O.dirtyFields)&&s.shouldDirty&&k.state.next({name:e,dirtyFields:G(i,a),isDirty:U(e,f)})):c&&!c._f&&!l(f)?he(e,f,s):K(e,f,s),Ce(e,u)?k.state.next({...n,name:e,values:_(a)}):k.state.next({name:o.mount?e:void 0,values:_(a)})},_e=async e=>{o.mount=!0;let i=e.target,s=i.name,l=!0,d=S(r,s),m=e=>{l=Number.isNaN(e)||c(e)&&isNaN(e.getTime())||L(e,S(a,s,e))},h=be(t.mode),g=be(t.reValidateMode);if(d){let o,c,v=i.type?ve(d._f):f(e),y=e.type===E.BLUR||e.type===E.FOCUS_OUT,b=!Se(d._f)&&!t.resolver&&!S(n.errors,s)&&!d._f.deps||De(y,S(n.touchedFields,s),n.isSubmitted,g,h),C=Ce(s,u,y);T(a,s,v),y?(!i||!i.readOnly)&&(d._f.onBlur&&d._f.onBlur(e),p&&p(0)):d._f.onChange&&d._f.onChange(e);let w=re(s,v,y),D=!z(w)||C;if(!y&&k.state.next({name:s,type:e.type,values:_(a)}),b)return(x.isValid||O.isValid)&&(t.mode===`onBlur`?y&&M():y||M()),D&&k.state.next({name:s,...C?{}:w});if(!y&&C&&k.state.next({...n}),t.resolver){let{errors:e}=await B([s]);if(N([s]),m(v),l){let t=we(n.errors,r,s),i=we(e,r,t.name||s);o=i.error,s=i.name,c=z(e)}}else N([s],!0),o=(await je(d,u.disabled,a,A,t.shouldUseNativeValidation))[s],N([s]),m(v),l&&(o?c=!1:(x.isValid||O.isValid)&&(c=await V(r,!0)));l&&(d._f.deps&&(!Array.isArray(d._f.deps)||d._f.deps.length>0)&&X(d._f.deps),ie(s,c,o,w))}},J=(e,t)=>{if(S(n.errors,t)&&e.focus)return e.focus(),1},X=async(e,i={})=>{let a,o,s=R(e);if(t.resolver){let t=await fe(y(e)?e:s);a=z(t),o=e?!s.some(e=>S(t,e)):a}else e?(o=(await Promise.all(s.map(async e=>{let t=S(r,e);return await V(t&&t._f?{[e]:t}:t)}))).every(Boolean),!(!o&&!n.isValid)&&M()):o=a=await V(r);return k.state.next({...!P(e)||(x.isValid||O.isValid)&&a!==n.isValid?{}:{name:e},...t.resolver||!e?{isValid:a}:{},errors:n.errors}),i.shouldFocus&&!o&&Z(r,J,e?s:u.mount),o},Ae=(e,t)=>{let r={...o.mount?a:i};return t&&(r=oe(t.dirtyFields?n.dirtyFields:n.touchedFields,r)),y(e)?r:P(e)?S(r,e):e.map(e=>S(r,e))},Q=(e,t)=>({invalid:!!S((t||n).errors,e),isDirty:!!S((t||n).dirtyFields,e),error:S((t||n).errors,e),isValidating:!!S(n.validatingFields,e),isTouched:!!S((t||n).touchedFields,e)}),Ne=e=>{e&&R(e).forEach(e=>H(n.errors,e)),k.state.next({errors:e?n.errors:{}})},Pe=(e,t,i)=>{let a=(S(r,e,{_f:{}})._f||{}).ref,{ref:o,message:s,type:c,...l}=S(n.errors,e)||{};T(n.errors,e,{...l,...t,ref:a}),k.state.next({name:e,errors:n.errors,isValid:!1}),i&&i.shouldFocus&&a&&a.focus&&a.focus()},$=(e,t)=>w(e)?k.state.subscribe({next:n=>`values`in n&&e(W(void 0,t),n)}):W(e,t,!0),Fe=e=>k.state.subscribe({next:t=>{Ee(e.name,t.name,e.exact)&&Te(t,e.formState||x,qe,e.reRenderRoot)&&e.callback({values:{...a},...n,...t,defaultValues:i})}}).unsubscribe,Ie=e=>(o.mount=!0,O={...O,...e.formState},Fe({...e,formState:{...v,...e.formState}})),Le=(e,o={})=>{for(let s of e?R(e):u.mount)u.mount.delete(s),u.array.delete(s),o.keepValue||(H(r,s),H(a,s)),!o.keepError&&H(n.errors,s),!o.keepDirty&&H(n.dirtyFields,s),!o.keepTouched&&H(n.touchedFields,s),!o.keepIsValidating&&H(n.validatingFields,s),!t.shouldUnregister&&!o.keepDefaultValue&&H(i,s);k.state.next({values:_(a)}),k.state.next({...n,...o.keepDirty?{isDirty:U()}:{}}),!o.keepIsValid&&M()},Re=({disabled:e,name:t})=>{if(C(e)&&o.mount||e||u.disabled.has(t)){let n=u.disabled.has(t)!==!!e;e?u.disabled.add(t):u.disabled.delete(t),n&&o.mount&&!o.action&&M()}},ze=(e,n={})=>{let a=S(r,e),s=C(n.disabled)||C(t.disabled);return T(r,e,{...a||{},_f:{...a&&a._f?a._f:{ref:{name:e}},name:e,mount:!0,...n}}),u.mount.add(e),a?Re({disabled:C(n.disabled)?n.disabled:t.disabled,name:e}):ne(e,!0,n.value),{...s?{disabled:n.disabled||t.disabled}:{},...t.progressive?{required:!!n.required,min:Y(n.min),max:Y(n.max),minLength:Y(n.minLength),maxLength:Y(n.maxLength),pattern:Y(n.pattern)}:{},name:e,onChange:_e,onBlur:_e,ref:s=>{if(s){ze(e,n),a=S(r,e);let t=y(s.value)&&s.querySelectorAll&&s.querySelectorAll(`input,select,textarea`)[0]||s,o=ue(t),c=a._f.refs||[];if(o?c.find(e=>e===t):t===a._f.ref)return;T(r,e,{_f:{...a._f,...o?{refs:[...c.filter(de),t,...Array.isArray(S(i,e))?[{}]:[]],ref:{type:t.type,name:e}}:{ref:t}}}),ne(e,!1,void 0,t)}else a=S(r,e,{}),a._f&&(a._f.mount=!1),(t.shouldUnregister||n.shouldUnregister)&&!(m(u.array,e)&&o.action)&&u.unMount.add(e)}}},Be=()=>t.shouldFocusError&&Z(r,J,u.mount),Ve=e=>{C(e)&&(k.state.next({disabled:e}),Z(r,(t,n)=>{let i=S(r,n);i&&(t.disabled=i._f.disabled||e,Array.isArray(i._f.refs)&&i._f.refs.forEach(t=>{t.disabled=i._f.disabled||e}))},0,!1))},He=(e,i)=>async o=>{let s;o&&(o.preventDefault&&o.preventDefault(),o.persist&&o.persist());let c=_(a);if(k.state.next({isSubmitting:!0}),t.resolver){let{errors:e,values:t}=await B();N(),n.errors=e,c=_(t)}else await V(r);if(u.disabled.size)for(let e of u.disabled)H(c,e);if(H(n.errors,`root`),z(n.errors)){k.state.next({errors:{}});try{await e(c,o)}catch(e){s=e}}else i&&await i({...n.errors},o),Be(),setTimeout(Be);if(k.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:z(n.errors)&&!s,submitCount:n.submitCount+1,errors:n.errors}),s)throw s},Ue=(e,t={})=>{S(r,e)&&(y(t.defaultValue)?q(e,_(S(i,e))):(q(e,t.defaultValue),T(i,e,_(t.defaultValue))),t.keepTouched||H(n.touchedFields,e),t.keepDirty||(H(n.dirtyFields,e),n.isDirty=t.defaultValue?U(e,_(S(i,e))):U()),t.keepError||(H(n.errors,e),x.isValid&&M()),k.state.next({...n}))},We=(e,s={})=>{let c=e?_(e):i,l=_(c),d=z(e),f=d?i:l;if(s.keepDefaultValues||(i=c),!s.keepValues){if(s.keepDirtyValues){let e=new Set([...u.mount,...Object.keys(G(i,a))]);for(let t of Array.from(e)){let e=S(n.dirtyFields,t),r=S(a,t),i=S(f,t);e&&!y(r)?T(f,t,r):!e&&!y(i)&&q(t,i)}}else{if(g&&y(e))for(let e of u.mount){let t=S(r,e);if(t&&t._f){let e=Array.isArray(t._f.refs)?t._f.refs[0]:t._f.ref;if(ce(e)){let t=e.closest(`form`);if(t){t.reset();break}}}}if(s.keepFieldsRef)for(let e of u.mount)q(e,S(f,e));else r={}}a=t.shouldUnregister?s.keepDefaultValues?_(i):{}:_(f),k.array.next({values:{...f}}),k.state.next({values:{...f}})}u={mount:s.keepDirtyValues?u.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:``},o.mount=!x.isValid||!!s.keepIsValid||!!s.keepDirtyValues||!t.shouldUnregister&&!z(f),o.watch=!!t.shouldUnregister,o.keepIsValid=!!s.keepIsValid,o.action=!1,s.keepErrors||(n.errors={}),k.state.next({submitCount:s.keepSubmitCount?n.submitCount:0,isDirty:d?!1:s.keepDirty?n.isDirty:!!(s.keepDefaultValues&&!L(e,i)),isSubmitted:s.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:d?{}:s.keepDirtyValues?s.keepDefaultValues&&a?G(i,a):n.dirtyFields:s.keepDefaultValues&&e?G(i,e):s.keepDirty?n.dirtyFields:{},touchedFields:s.keepTouched?n.touchedFields:{},errors:s.keepErrors?n.errors:{},isSubmitSuccessful:s.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:i})},Ge=(e,n)=>We(w(e)?e(a):e,{...t.resetOptions,...n}),Ke=(e,t={})=>{let n=S(r,e),i=n&&n._f;if(i){let e=i.refs?i.refs[0]:i.ref;e.focus&&setTimeout(()=>{e.focus(),t.shouldSelect&&w(e.select)&&e.select()})}},qe=e=>{n={...n,...e}},Je={control:{register:ze,unregister:Le,getFieldState:Q,handleSubmit:He,setError:Pe,_subscribe:Fe,_runSchema:B,_updateIsValidating:N,_focusError:Be,_getWatch:W,_getDirty:U,_setValid:M,_setFieldArray:I,_setDisabledField:Re,_setErrors:te,_getFieldArray:me,_reset:We,_resetDefaultValues:()=>w(t.defaultValues)&&t.defaultValues().then(e=>{Ge(e,t.resetOptions),k.state.next({isLoading:!1})}),_removeUnmounted:pe,_disableForm:Ve,_subjects:k,_proxyFormState:x,get _fields(){return r},get _formValues(){return a},get _state(){return o},set _state(e){o=e},get _defaultValues(){return i},get _names(){return u},set _names(e){u=e},get _formState(){return n},get _options(){return t},set _options(e){t={...t,...e}}},subscribe:Ie,trigger:X,register:ze,handleSubmit:He,watch:$,setValue:q,getValues:Ae,reset:Ge,resetField:Ue,clearErrors:Ne,unregister:Le,setError:Pe,setFocus:Ke,getFieldState:Q};return{...Je,formControl:Je}}function Pe(e={}){let t=o.useRef(void 0),n=o.useRef(void 0),[r,i]=o.useState({isDirty:!1,isValidating:!1,isLoading:w(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:w(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:r},e.defaultValues&&!w(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{let{formControl:n,...i}=Ne(e);t.current={...i,formState:r}}let a=t.current.control;return a._options=e,M(()=>{let e=a._subscribe({formState:a._proxyFormState,callback:()=>i({...a._formState}),reRenderRoot:!0});return i(e=>({...e,isReady:!0})),a._formState.isReady=!0,e},[a]),o.useEffect(()=>a._disableForm(e.disabled),[a,e.disabled]),o.useEffect(()=>{e.mode&&(a._options.mode=e.mode),e.reValidateMode&&(a._options.reValidateMode=e.reValidateMode)},[a,e.mode,e.reValidateMode]),o.useEffect(()=>{e.errors&&(a._setErrors(e.errors),a._focusError())},[a,e.errors]),o.useEffect(()=>{e.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[a,e.shouldUnregister]),o.useEffect(()=>{if(a._proxyFormState.isDirty){let e=a._getDirty();e!==r.isDirty&&a._subjects.state.next({isDirty:e})}},[a,r.isDirty]),o.useEffect(()=>{e.values&&!L(e.values,n.current)?(a._reset(e.values,{keepFieldsRef:!0,...a._options.resetOptions}),a._options.resetOptions?.keepIsValid||a._setValid(),n.current=e.values,i(e=>({...e}))):a._resetDefaultValues()},[a,e.values]),o.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),t.current.formState=o.useMemo(()=>j(r,a),[a,r]),t.current}var $=n();function Fe({isOpen:e,onClose:t,title:n,children:s,type:c,onSave:l,onDelete:u,loading:d=!1,loadingText:f=`Salvando...`,size:p=`md`}){let m=a(e),h={sm:`md:w-[400px]`,md:`md:w-[500px]`,lg:`md:w-[600px]`,xl:`md:w-[800px]`};return(0,o.useEffect)(()=>{if(!e)return;function n(e){e.key===`Escape`&&!d&&t()}return document.addEventListener(`keydown`,n),()=>document.removeEventListener(`keydown`,n)},[e,d,t]),e?(0,$.jsxs)(`div`,{className:`fixed inset-0 z-[600] flex justify-center items-end md:items-center`,role:`dialog`,"aria-modal":`true`,"aria-labelledby":n?`modal-title`:void 0,children:[(0,$.jsx)(`div`,{className:`absolute inset-0 bg-black/40 backdrop-blur-sm`,onClick:d?void 0:t,"aria-hidden":`true`}),(0,$.jsxs)(`div`,{ref:m,className:i(`relative w-full max-h-[80vh] md:max-h-[90vh] bg-white dark:bg-gray-800 rounded-t-2xl md:rounded-2xl flex flex-col shadow-2xl`,h[p]),children:[n&&(0,$.jsxs)(`div`,{className:`flex items-center justify-between px-4 py-3 md:px-6 md:py-4 border-b border-gray-200 dark:border-gray-700 flex-shrink-0`,children:[(0,$.jsx)(`h2`,{id:`modal-title`,className:`text-lg md:text-xl font-semibold text-gray-900 dark:text-gray-100`,children:n}),(0,$.jsx)(`button`,{onClick:d?void 0:t,disabled:d,"aria-label":`Fechar modal`,className:i(`p-2 rounded-lg text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors focus:ring-2 focus:ring-gray-300 dark:focus:ring-gray-500 focus:outline-none`,d&&`opacity-50 cursor-not-allowed`),children:(0,$.jsx)(r,{className:`w-5 h-5`})})]}),(0,$.jsx)(`div`,{className:`px-4 py-3 md:px-6 md:py-4 overflow-y-auto flex-1 min-h-0`,children:s}),(0,$.jsxs)(`div`,{className:`flex gap-3 px-4 py-3 md:px-6 md:py-4 border-t border-gray-200 dark:border-gray-700 bg-gray-50/50 dark:bg-gray-800/80 flex-shrink-0`,children:[(0,$.jsx)(`button`,{onClick:t,disabled:d,"aria-label":`Cancelar e fechar modal`,className:i(`flex-1 px-4 py-2.5 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-600 transition-all focus:ring-2 focus:ring-gray-300 dark:focus:ring-gray-500 focus:outline-none`,d&&`opacity-50 cursor-not-allowed`),children:`Cancelar`}),c===`edit`&&u&&(0,$.jsx)(`button`,{onClick:u,disabled:d,"aria-label":`Excluir registro permanentemente`,type:`button`,className:i(`flex-1 px-4 py-2.5 text-sm font-medium text-white rounded-lg transition-all focus:ring-2 focus:ring-red-500 dark:focus:ring-red-500 focus:outline-none`,d?`bg-red-500 cursor-wait`:`bg-red-600 hover:bg-red-700`),children:d&&f===`Excluindo...`?`Excluindo...`:`Excluir`}),l&&(0,$.jsx)(`button`,{onClick:l,disabled:d,"aria-label":c===`create`?`Salvar novo registro`:`Salvar alterações`,type:`button`,className:i(`flex-1 px-4 py-2.5 text-sm font-medium text-white rounded-lg transition-all focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-500 focus:outline-none`,d?`bg-blue-500 cursor-wait`:`bg-blue-600 hover:bg-blue-700`),children:d&&f!==`Excluindo...`?f:`Salvar`})]})]})]}):null}function Ie(e,t,n){let r=t.safeParse(e);if(r.success)return!0;let i=r.error.issues.map(e=>e.message??`Preencha os campos obrigatórios.`);return setTimeout(()=>{for(let e of i)n.error(e)},0),!1}export{Pe as i,Fe as n,ne as r,Ie as t};